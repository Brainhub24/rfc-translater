{
  "title": {
    "text": "RFC 6148 - DHCPv4 Lease Query by Relay Agent Remote ID",
    "ja": "RFC 6148 - リレーエージェントリモートIDによるDHCPV4リースクエリ"
  },
  "number": 6148,
  "created_at": "2023-01-05 21:17:11.723636+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                       P. Kurapati\nRequest for Comments: 6148                              Juniper Networks\nUpdates: 4388                                                 R. Desetti\nCategory: Standards Track                                       B. Joshi\nISSN: 2070-1721                                Infosys Technologies Ltd.\n                                                           February 2011",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 14,
      "text": "DHCPv4 Lease Query by Relay Agent Remote ID",
      "ja": "リレーエージェントリモートIDによるDHCPV4リースクエリ"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "ja": "概要"
    },
    {
      "indent": 3,
      "text": "Some relay agents extract lease information from the DHCP messages exchanged between the client and DHCP server. This lease information is used by relay agents for various purposes like antispoofing and prevention of flooding. RFC 4388 defines a mechanism for relay agents to retrieve the lease information from the DHCP server when this information is lost. The existing lease query mechanism is data-driven, which means that a relay agent can initiate the lease query only when it starts receiving data to and from the clients. In certain scenarios, this model is not scalable. This document first looks at issues in the existing mechanism and then proposes a new query type, query by Remote ID, to address these issues.",
      "ja": "一部のリレーエージェントは、クライアントとDHCPサーバーの間で交換されたDHCPメッセージからリース情報を抽出します。このリース情報は、リレーエージェントが洪水の防止や洪水防止などのさまざまな目的で使用しています。RFC 4388は、この情報が失われたときに、リレーエージェントがDHCPサーバーからリース情報を取得するメカニズムを定義します。既存のリースクエリメカニズムはデータ駆動型です。つまり、リレーエージェントは、クライアントとの間でデータの受信を開始した場合にのみ、リースクエリを開始できます。特定のシナリオでは、このモデルはスケーラブルではありません。このドキュメントは、最初に既存のメカニズムの問題を調べてから、これらの問題に対処するために、リモートIDによる新しいクエリタイプのクエリを提案します。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "ja": "本文書の位置付け"
    },
    {
      "indent": 3,
      "text": "This is an Internet Standards Track document.",
      "ja": "これは、インターネット標準トラックドキュメントです。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.",
      "ja": "このドキュメントは、インターネットエンジニアリングタスクフォース（IETF）の製品です。IETFコミュニティのコンセンサスを表しています。公開レビューを受けており、インターネットエンジニアリングステアリンググループ（IESG）からの出版が承認されています。インターネット標準の詳細については、RFC 5741のセクション2で入手できます。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc6148.",
      "ja": "このドキュメントの現在のステータス、任意のERRATA、およびそのフィードバックを提供する方法に関する情報は、http：//www.rfc-editor.org/info/rfc6148で取得できます。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2011 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "ja": "Copyright（c）2011 IETF Trustおよび文書著者として特定された人。全著作権所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.",
      "ja": "このドキュメントは、BCP 78およびIETFドキュメント（http://trustee.ietf.org/license-info）に関連するIETF Trustの法的規定の対象となります。この文書に関するあなたの権利と制限を説明するので、これらの文書を注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、セクション4.Eで説明されている法的規定のセクション4.Eで説明されており、単純化されたBSDライセンスで説明されているように保証なしで提供される簡略化されたBSDライセンステキストを含める必要があります。"
    },
    {
      "indent": 3,
      "text": "This document may contain material from IETF Documents or IETF Contributions published or made publicly available before November 10, 2008. The person(s) controlling the copyright in some of this material may not have granted the IETF Trust the right to allow modifications of such material outside the IETF Standards Process. Without obtaining an adequate license from the person(s) controlling the copyright in such materials, this document may not be modified outside the IETF Standards Process, and derivative works of it may not be created outside the IETF Standards Process, except to format it for publication as an RFC or to translate it into languages other than English.",
      "ja": "このドキュメントには、2008年11月10日までに公開または公開されたIETFドキュメントまたはIETFの寄付からの資料が含まれている場合があります。IETF標準プロセスの外。そのような資料の著作権を制御する人から適切なライセンスを取得せずに、このドキュメントはIETF標準プロセスの外側に変更されない場合があり、その派生作業は、ITF標準プロセスの外側で作成されない場合があります。RFCとしての出版またはそれを英語以外の言語に翻訳するため。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1. Introduction ....................................................3\n2. Terminology .....................................................4\n3. Motivation ......................................................6\n4. Protocol Details ................................................7\n   4.1. Sending the DHCPLEASEQUERY Message .........................7\n   4.2. Responding to the DHCPLEASEQUERY Message ...................8\n   4.3. Building a DHCPLEASEACTIVE or DHCPLEASEUNKNOWN Message .....8\n   4.4. Determining the IP Address to Be Used in Response ..........9\n   4.5. Sending a DHCPLEASEACTIVE or DHCPLEASEUNKNOWN Message ......9\n   4.6. Receiving a DHCPLEASEACTIVE or DHCPLEASEUNKNOWN Message ....9\n   4.7. Receiving No Response to the DHCPLEASEQUERY Message .......10\n   4.8. Lease-Binding Data Storage Requirements ...................10\n   4.9. Using the DHCPLEASEQUERY Message with Multiple\n        DHCP Servers ..............................................10\n5. RFC 4388 Considerations ........................................11\n6. Security Considerations ........................................11\n7. Acknowledgments ................................................11\n8. References .....................................................12\n   8.1. Normative References ......................................12\n   8.2. Informative References ....................................12",
      "raw": true,
      "toc": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1. はじめに"
    },
    {
      "indent": 3,
      "text": "DHCP relay agents snoop DHCP messages and append a Relay Agent Information option before relaying them to the configured DHCP server. In this process, some relay agents also glean the lease information sent by the server and maintain this locally. This information is used to prevent spoofing attempts from clients and also sometimes to install routing information. When a relay agent reboots, this information is lost. RFC 4388 [RFC4388] has defined a mechanism to retrieve this lease information from the DHCP server. The existing query types defined by RFC 4388 [RFC4388] are data-driven. When a client sends data upstream, the relay agent can query the server about the related lease information, based on the source MAC/IP address. These mechanisms do not scale well when there are thousands of clients connected to the relay agent. In the data-driven model, lease query does not provide the full and consolidated active lease information associated with a given connection/circuit, which will result in inefficient anti-spoofing. The relay agent also has to contend with considerable resources for negative caching, especially under spoofing attacks.",
      "ja": "DHCPリレーエージェントSnoop DHCPメッセージをSnoopメッセージと追加してから、設定されたDHCPサーバーにリレーする前に、リレーエージェント情報オプションを追加します。このプロセスでは、一部のリレーエージェントは、サーバーから送信されたリース情報を収集し、これをローカルに維持します。この情報は、クライアントからのスプーフィングの試みを防ぎ、時にはルーティング情報をインストールするために使用されます。リレーエージェントが再起動すると、この情報は失われます。RFC 4388 [RFC4388]は、DHCPサーバーからこのリース情報を取得するメカニズムを定義しています。RFC 4388 [RFC4388]で定義された既存のクエリタイプは、データ駆動型です。クライアントがデータを上流に送信すると、リレーエージェントは、ソースMAC/IPアドレスに基づいて、関連するリース情報についてサーバーを照会できます。これらのメカニズムは、リレーエージェントに何千ものクライアントが接続されている場合、十分にスケーリングしません。データ駆動型モデルでは、リースクエリは、特定の接続/回路に関連付けられた完全かつ統合されたアクティブリース情報を提供しないため、非効率的なアンチスポーフが生じます。リレーエージェントはまた、特にスプーフィング攻撃の下で、ネガティブキャッシュのためのかなりのリソースと争う必要があります。"
    },
    {
      "indent": 3,
      "text": "We need a mechanism for a relay agent to retrieve the consolidated lease information for a given connection/circuit before upstream traffic is sent by the clients.",
      "ja": "上流のトラフィックがクライアントによって送信される前に、特定の接続/回路の連結リース情報を取得するためのリレーエージェントが必要なメカニズムが必要です。"
    },
    {
      "indent": 14,
      "text": "+--------+\n|  DHCP  |     +--------------+\n| Server |-...-|    DSLAM     |\n|        |     |  Relay Agent |\n+--------+     +--------------+\n                  |        |\n              +------+   +------+\n              |Modem1|   |Modem2|\n              +------+   +------+\n                 |        |    |\n              +-----+  +-----+ +-----+\n              |Node1|  |Node2| |Node3|\n              +-----+  +-----+ +-----+",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 33,
      "text": "Figure 1",
      "ja": "図1"
    },
    {
      "indent": 3,
      "text": "For example, when a DSLAM (Digital Subscriber Line Access Multiplexer) acting as a relay agent is rebooted, it should query the server for the lease information for all the connections/circuits. Also, as shown in the above figure, there could be multiple clients on one DSL circuit. The relay agent should get the lease information of all the clients connected to a DSL circuit. This is possible by introducing a new query type based on the Remote ID sub-option of the Relay Agent Information option. This document talks about the motivation for the new query type and the method to perform it.",
      "ja": "たとえば、リレーエージェントとして機能するDSLAM（デジタルサブスクライバーラインアクセスマルチプレクサ）が再起動される場合、すべての接続/回路のリース情報をサーバーに照会する必要があります。また、上記の図に示すように、1つのDSL回路に複数のクライアントがいる可能性があります。リレーエージェントは、DSL回路に接続されているすべてのクライアントのリース情報を取得する必要があります。これは、リレーエージェント情報オプションのリモートIDサブオプションに基づいて新しいクエリタイプを導入することで可能です。このドキュメントでは、新しいクエリタイプの動機とそれを実行する方法について説明しています。"
    },
    {
      "indent": 0,
      "text": "2. Terminology",
      "section_title": true,
      "ja": "2. 用語"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in RFC 2119 [RFC2119].",
      "ja": "この文書のキーワード \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", および \"OPTIONAL\" はRFC 2119 [RFC2119]で説明されているように解釈されます。"
    },
    {
      "indent": 3,
      "text": "This document uses the following terms:",
      "ja": "このドキュメントでは、次の用語を使用しています。"
    },
    {
      "indent": 3,
      "text": "o Access Concentrator",
      "ja": "o アクセスコンセントレーター"
    },
    {
      "indent": 6,
      "text": "An access concentrator is a router or switch at the broadband access provider's edge of a public broadband access network. This document assumes that the access concentrator includes the DHCP relay agent functionality.",
      "ja": "アクセスコンセントレーターは、パブリックブロードバンドアクセスネットワークのブロードバンドアクセスプロバイダーのエッジのルーターまたはスイッチです。このドキュメントは、アクセス濃縮器にDHCPリレーエージェント機能が含まれることを前提としています。"
    },
    {
      "indent": 3,
      "text": "o DHCP client",
      "ja": "o DHCPクライアント"
    },
    {
      "indent": 6,
      "text": "A DHCP client is an Internet node using DHCP to obtain configuration parameters such as a network address.",
      "ja": "DHCPクライアントは、DHCPを使用してネットワークアドレスなどの構成パラメーターを取得するインターネットノードです。"
    },
    {
      "indent": 3,
      "text": "o DHCP relay agent",
      "ja": "o DHCPリレーエージェント"
    },
    {
      "indent": 6,
      "text": "A DHCP relay agent is a third-party agent that transfers Bootstrap Protocol (BOOTP) and DHCP messages between clients and servers residing on different subnets, per RFC 951 [RFC951] and RFC 1542 [RFC1542].",
      "ja": "DHCPリレーエージェントは、RFC 951 [RFC951]およびRFC 1542 [RFC1542]ごとに、さまざまなサブネットに存在するクライアントとサーバー間のブートストラッププロトコル（BOOTP）とDHCPメッセージを転送するサードパーティエージェントです。"
    },
    {
      "indent": 3,
      "text": "o DHCP server",
      "ja": "o DHCPサーバー"
    },
    {
      "indent": 6,
      "text": "A DHCP server is an Internet node that returns configuration parameters to DHCP clients.",
      "ja": "DHCPサーバーは、構成パラメーターをDHCPクライアントに返すインターネットノードです。"
    },
    {
      "indent": 3,
      "text": "o Fast path",
      "ja": "o 高速パス"
    },
    {
      "indent": 6,
      "text": "Fast path refers to data transfer that happens through a network processor or an Application Specific Integrated Circuit (ASIC) programmed to forward the data at very high speeds.",
      "ja": "高速パスとは、データを非常に高速で転送するようにプログラムされたアプリケーション固有の統合回路（ASIC）を介して発生するデータ転送を指します。"
    },
    {
      "indent": 3,
      "text": "o Gleaning",
      "ja": "o グリーン"
    },
    {
      "indent": 6,
      "text": "Gleaning is the extraction of location information from DHCP messages as the messages are forwarded by the DHCP relay agent function.",
      "ja": "GLENINGは、メッセージがDHCPリレーエージェント関数によって転送されるため、DHCPメッセージからの位置情報の抽出です。"
    },
    {
      "indent": 3,
      "text": "o Location information",
      "ja": "o 位置情報"
    },
    {
      "indent": 6,
      "text": "Location information is information needed by the access concentrator to forward traffic to a broadband-accessible node. This information includes knowledge of the node's hardware address, the port or virtual circuit that leads to the node, and/or the hardware address of the intervening subscriber modem.",
      "ja": "位置情報は、Access Concencoratorがブロードバンドアクセス可能なノードに転送するために必要な情報です。この情報には、ノードのハードウェアアドレス、ノードにつながるポートまたは仮想回路の知識、および/または介在するサブスクライバーモデムのハードウェアアドレスが含まれます。"
    },
    {
      "indent": 3,
      "text": "o MAC address",
      "ja": "o Macアドレス"
    },
    {
      "indent": 6,
      "text": "In the context of a DHCP packet, a MAC address consists of the following fields: hardware type (\"htype\"), hardware length (\"hlen\"), and client hardware address (\"chaddr\").",
      "ja": "DHCPパケットのコンテキストでは、MACアドレスは次のフィールドで構成されています：ハードウェアタイプ（「HTYPE」）、ハードウェア長（「HLEN」）、およびクライアントハードウェアアドレス（「Chaddr」）。"
    },
    {
      "indent": 3,
      "text": "o Slow path",
      "ja": "o スローパス"
    },
    {
      "indent": 6,
      "text": "Slow path refers to data transfer that happens through the control plane. This has very limited buffers to store data, and the speeds are very low compared to the fast path data transfer.",
      "ja": "スローパスとは、コントロールプレーンを介して発生するデータ転送を指します。これはデータを保存するためのバッファーが非常に限られており、高速パスデータ転送と比較して速度は非常に低いです。"
    },
    {
      "indent": 3,
      "text": "o Upstream",
      "ja": "o 上流の"
    },
    {
      "indent": 6,
      "text": "Upstream is the direction from the broadband subscriber towards the access concentrator.",
      "ja": "上流は、ブロードバンドサブスクライバーからアクセス濃縮器への方向です。"
    },
    {
      "indent": 0,
      "text": "3. Motivation",
      "section_title": true,
      "ja": "3. 動機"
    },
    {
      "indent": 3,
      "text": "Consider an access concentrator (e.g., DSLAM) working also as a DHCP relay agent. A \"fast path\" and a \"slow path\" generally exist in most networking boxes. Fast path processing is done in a network processor or an ASIC. Slow path processing is done in a normal processor. As much as possible, regular data forwarding should be done in the fast path. Slow path processing should be reduced, as it may become a bottleneck.",
      "ja": "DHCPリレーエージェントとしても機能するアクセスコンセントレーター（DSLAMなど）を検討してください。ほとんどのネットワーキングボックスには、一般に「高速パス」と「スローパス」が存在します。高速パス処理は、ネットワークプロセッサまたはASICで行われます。遅いパス処理は、通常のプロセッサで行われます。可能な限り、定期的なデータ転送は高速パスで行う必要があります。ボトルネックになる可能性があるため、遅いパス処理を減らす必要があります。"
    },
    {
      "indent": 3,
      "text": "For an access concentrator having multiple access ports, multiple IP addresses may be assigned to a single port using DHCP, and the number of clients on a port may be unknown. The access concentrator may also not know the network portions of the IP addresses that are assigned to its DHCP clients.",
      "ja": "複数のアクセスポートを持つアクセス濃縮器の場合、DHCPを使用して複数のIPアドレスが単一のポートに割り当てられ、ポート上のクライアントの数は不明な場合があります。Access Concentorは、DHCPクライアントに割り当てられているIPアドレスのネットワーク部分を知らない場合もあります。"
    },
    {
      "indent": 3,
      "text": "The access concentrator gleans IP address or other information from DHCP negotiations for antispoofing and other purposes. The antispoofing itself is done in the fast path. The access concentrator keeps track of only one list of IP addresses: the list of IP addresses that are assigned by the DHCP servers; upstream traffic from all other IP addresses is dropped. If a client starts its data transfer after its DHCP negotiations have been gleaned by the access concentrator, no legitimate packets will be dropped because of antispoofing. In other words, antispoofing is effective (no legitimate packets are dropped, and all spoofed packets are dropped) and efficient (antispoofing is done in the fast path). The intention is to achieve similar effective and efficient antispoofing in the lease query scenario also, when an access concentrator loses its gleaned information (for example, because of a reboot).",
      "ja": "Access concentatorは、Antspoofingおよびその他の目的のためのDHCP交渉からのIPアドレスまたはその他の情報を収集します。アンチスプーフィング自体は、高速パスで行われます。Access Concentorは、IPアドレスの1つのリストのみを追跡します。DHCPサーバーによって割り当てられたIPアドレスのリスト。他のすべてのIPアドレスからの上流トラフィックが削除されます。DHCPの交渉がアクセスコンセントレーターによって収集された後、クライアントがデータ転送を開始した場合、spoostofingのために正当なパケットは削除されません。言い換えれば、防腐剤は効果的であり（合法的なパケットは削除されず、すべてのスプーフィングされたパケットがドロップされます）。意図は、アクセスコンセントレーターが収集された情報を失った場合（たとえば、再起動のため）、リースクエリシナリオで同様の効果的で効率的な防腐剤を達成することです。"
    },
    {
      "indent": 3,
      "text": "After a deep analysis, we found that the three existing query types supported by RFC 4388 [RFC4388] do not provide effective and efficient antispoofing for the above scenario, and a new mechanism is required.",
      "ja": "深い分析の後、RFC 4388 [RFC4388]によってサポートされている3つの既存のクエリタイプは、上記のシナリオに効果的かつ効率的な防腐剤を提供しないことがわかり、新しいメカニズムが必要であることがわかりました。"
    },
    {
      "indent": 3,
      "text": "The existing query types necessitate a data-driven approach: the lease queries can only be performed when the access concentrator receives data. This results in",
      "ja": "既存のクエリタイプは、データ駆動型のアプローチを必要とします。リースクエリは、アクセスコンセントレーターがデータを受信した場合にのみ実行できます。これはです"
    },
    {
      "indent": 3,
      "text": "o increased outage time for clients",
      "ja": "o クライアントの停止時間の増加"
    },
    {
      "indent": 3,
      "text": "o excessive negative caching, consuming a lot of resources under a spoofing attack",
      "ja": "o 過度の否定的なキャッシュ、スプーフィング攻撃の下で多くのリソースを消費する"
    },
    {
      "indent": 3,
      "text": "o antispoofing being done in the slow path instead of the fast path",
      "ja": "o 速いパスの代わりにスローパスで行われているアンチスプーフィング"
    },
    {
      "indent": 0,
      "text": "4. Protocol Details",
      "section_title": true,
      "ja": "4. プロトコルの詳細"
    },
    {
      "indent": 3,
      "text": "This section talks about the protocol details for query by Remote ID. Most of the message handling is similar to RFC 4388 [RFC4388], and this section highlights only the differences. Readers are advised to go through RFC 4388 [RFC4388] before going through this section for complete understanding of the protocol.",
      "ja": "このセクションでは、リモートIDによるクエリのプロトコルの詳細について説明します。メッセージ処理のほとんどはRFC 4388 [RFC4388]に似ており、このセクションでは違いのみを強調しています。このセクションを通過する前に、プロトコルを完全に理解する前に、読者はRFC 4388 [RFC4388]を通過することをお勧めします。"
    },
    {
      "indent": 3,
      "text": "When used in this document, the unqualified term \"DHCPLEASEQUERY\" indicates a lease query by Remote ID, unless otherwise specified.",
      "ja": "このドキュメントで使用される場合、適格な用語「DHCPleasequery」は、特に指定がない限り、リモートIDによるリースクエリを示します。"
    },
    {
      "indent": 3,
      "text": "RFC 3046 [RFC3046] defines two sub-options for the Relay Agent Information option. Sub-option 1 corresponds to the Circuit ID that identifies the local circuit of the access concentrator. This sub-option is unique to the relay agent. Sub-option 2 corresponds to the Remote ID that identifies the remote node connected to the access concentrator. The Remote ID is globally unique in the network and is configured per circuit/connection in the relay agent.",
      "ja": "RFC 3046 [RFC3046]は、リレーエージェント情報オプションの2つのサブオプションを定義します。サブオプション1は、アクセス濃縮器のローカル回路を識別する回路IDに対応します。このサブオプションは、リレーエージェントに固有のものです。サブオプション2は、アクセス濃縮器に接続されたリモートノードを識別するリモートIDに対応します。リモートIDはネットワークでグローバルに一意であり、リレーエージェントの回路/接続ごとに構成されています。"
    },
    {
      "indent": 3,
      "text": "This document defines a new query type based on the Remote ID sub-option. Suppose that the access concentrator (e.g., DSLAM) lost the lease information when it was rebooted. When the access concentrator comes up, it initiates (for each connection/circuit) a DHCP lease query by Remote ID as defined in this section. For this query, the requester supplies an option 82 that includes only a Remote ID sub-option in the DHCPLEASEQUERY message. The Remote ID is normally pre-provisioned in the access concentrator per circuit/ connection and hence will remain available to the access concentrator after reboot.",
      "ja": "このドキュメントでは、リモートIDサブオプションに基づいて新しいクエリタイプを定義します。アクセスコンセントレーター（DSLAMなど）が再起動したときにリース情報を失ったとします。Access Concencoratorが登場すると、このセクションで定義されているリモートIDによるDHCPリースクエリを（接続/回路ごとに）開始します。このクエリの場合、requesterは、DHCPleasequeryメッセージにリモートIDサブオプションのみを含むオプション82を提供します。リモートIDは通常、回路/接続ごとのアクセスコンセントレーターで事前に生成されるため、再起動後もアクセス濃縮器が利用できるようになります。"
    },
    {
      "indent": 3,
      "text": "The DHCP server MUST reply with a DHCPLEASEACTIVE message if there is an active lease corresponding to the Remote ID that is present in the DHCPLEASEQUERY message. Otherwise, the server MUST reply with a DHCPLEASEUNKNOWN message. Servers that do not implement DHCP lease query based on Remote ID SHOULD simply not respond.",
      "ja": "DHCPサーバーは、DHCPleasequeryメッセージに存在するリモートIDに対応するアクティブなリースがある場合、DHCPleaSeactiveメッセージで返信する必要があります。それ以外の場合、サーバーはdhcpleaseunknownメッセージで返信する必要があります。リモートIDに基づいてDHCPリースクエリを実装していないサーバーは、単に応答しないはずです。"
    },
    {
      "indent": 0,
      "text": "4.1. Sending the DHCPLEASEQUERY Message",
      "section_title": true,
      "ja": "4.1. dhcpleasequeryメッセージを送信します"
    },
    {
      "indent": 3,
      "text": "The lease query defined in this document will mostly be used by access concentrators, but it may also be used by other authorized elements in the network. The DHCPLEASEQUERY message uses the DHCP message format as described in RFC 2131 [RFC2131], and uses message number 10 in the DHCP Message Type option (option 53). The DHCPLEASEQUERY message has the following pertinent message contents: o There MUST be a Relay Agent Information option (option 82) with only a Remote ID sub-option (sub-option 2) in the DHCPLEASEQUERY message.",
      "ja": "このドキュメントで定義されているリースクエリは、主にAccess Concencoratorによって使用されますが、ネットワーク内の他の承認された要素でも使用される場合があります。DHCPleasequeryメッセージは、RFC 2131 [RFC2131]で説明されているDHCPメッセージ形式を使用し、DHCPメッセージタイプオプション（オプション53）でメッセージ番号10を使用します。dhcpleasequeryメッセージには、次の関連メッセージの内容があります。odhcpleasequeryメッセージにリモートIDサブオプション（サブオプション2）のみを備えたリレーエージェント情報オプション（オプション82）が必要です。"
    },
    {
      "indent": 3,
      "text": "o The Parameter Request List option [RFC2132] MUST be populated by the access concentrator with the Associated-IP option code. The giaddr field and other option codes listed in the Parameter Request List option are set as explained in Section 6.2 of RFC 4388 [RFC4388].",
      "ja": "o パラメーターリクエストリストオプション[RFC2132]には、関連するIPオプションコードを備えたアクセスコンセントレーターを入力する必要があります。パラメーター要求リストオプションにリストされているGIADDRフィールドおよびその他のオプションコードは、RFC 4388 [RFC4388]のセクション6.2で説明されているように設定されています。"
    },
    {
      "indent": 3,
      "text": "o The ciaddr field MUST be set to zero.",
      "ja": "o CIADDRフィールドはゼロに設定する必要があります。"
    },
    {
      "indent": 3,
      "text": "o The values of htype, hlen, and chaddr MUST be set to zero.",
      "ja": "o HTYPE、HLEN、およびCHADDRの値はゼロに設定する必要があります。"
    },
    {
      "indent": 3,
      "text": "o The Client Identifier option (option 61) MUST NOT appear in the packet.",
      "ja": "o クライアント識別子オプション（オプション61）は、パケットに表示されてはなりません。"
    },
    {
      "indent": 3,
      "text": "The DHCPLEASEQUERY message SHOULD be sent to a DHCP server that is known to possess authoritative information concerning the Remote ID. The DHCPLEASEQUERY message MAY be sent to more than one DHCP server, and in the absence of information concerning which DHCP server might possess authoritative information concerning the Remote ID, it SHOULD be sent to all DHCP servers configured for the associated relay agent (if any are known).",
      "ja": "DHCPleasequeryメッセージは、リモートIDに関する権威ある情報を所有することが知られているDHCPサーバーに送信する必要があります。DHCPleasequeryメッセージは複数のDHCPサーバーに送信され、どのDHCPサーバーがリモートIDに関する権威ある情報を所有しているかに関する情報がない場合、関連するリレーエージェント用に構成されたすべてのDHCPサーバーに送信する必要があります（存在する場合は、既知）。"
    },
    {
      "indent": 0,
      "text": "4.2. Responding to the DHCPLEASEQUERY Message",
      "section_title": true,
      "ja": "4.2. DHCPleasequeryメッセージに応答します"
    },
    {
      "indent": 3,
      "text": "There are two possible responses to a DHCPLEASEQUERY message:",
      "ja": "dhcpleasequeryメッセージに対する2つの可能な応答があります。"
    },
    {
      "indent": 3,
      "text": "o DHCPLEASEUNKNOWN",
      "ja": "o dhcpleaseunknown"
    },
    {
      "indent": 6,
      "text": "The DHCPLEASEUNKNOWN message indicates that the client associated with the Remote ID sub-option of the DHCPLEASEQUERY message is not allocated any lease or it is not managed by the server.",
      "ja": "DHCPleaseunknownのメッセージは、DHCPleasequeryメッセージのリモートIDサブオプションに関連付けられているクライアントがリースを割り当てられていないか、サーバーによって管理されていないことを示しています。"
    },
    {
      "indent": 3,
      "text": "o DHCPLEASEACTIVE",
      "ja": "o dhcpleasective"
    },
    {
      "indent": 6,
      "text": "The DHCPLEASEACTIVE message indicates that the server not only knows the client specified in the DHCPLEASEQUERY message, but also knows that there is an active lease for that client.",
      "ja": "DHCPleaSeactiveメッセージは、サーバーがDHCPleasequeryメッセージで指定されたクライアントを知っているだけでなく、そのクライアントにアクティブなリースがあることも知っていることを示しています。"
    },
    {
      "indent": 0,
      "text": "4.3. Building a DHCPLEASEACTIVE or DHCPLEASEUNKNOWN Message",
      "section_title": true,
      "ja": "4.3. dhcpleasectiveまたはdhcpleaseunknownのメッセージを構築します"
    },
    {
      "indent": 3,
      "text": "A DHCPLEASEACTIVE message is built by populating information pertaining to the client associated with the IP address specified in the ciaddr field.",
      "ja": "DHCPleaSeactiveメッセージは、CIADDRフィールドで指定されたIPアドレスに関連付けられているクライアントに関連する情報を入力することにより構築されます。"
    },
    {
      "indent": 3,
      "text": "In the case where more than one IP address has been involved in a DHCP message exchange with the client specified by the Remote ID, then the list of all those IP addresses MUST be returned in the Associated-IP option, whether or not that option was requested as part of the Parameter Request List option. This is intended for maintaining backwards compatibility with RFC 4388 [RFC4388].",
      "ja": "リモートIDで指定されたクライアントとのDHCPメッセージ交換に複数のIPアドレスが関与している場合、それらのすべてのIPアドレスのリストは、そのオプションがあったかどうかにかかわらず、関連するIPオプションで返品する必要があります。パラメーターリクエストリストオプションの一部として要求されます。これは、RFC 4388との逆方向の互換性を維持することを目的としています[RFC4388]。"
    },
    {
      "indent": 3,
      "text": "All other options specified in the Parameter Request List [RFC2132] are processed as mentioned in Section 6.4.2 of RFC 4388 [RFC4388].",
      "ja": "パラメーターリクエストリスト[RFC2132]で指定されている他のすべてのオプションは、RFC 4388 [RFC4388]のセクション6.4.2に記載されているように処理されます。"
    },
    {
      "indent": 3,
      "text": "In a DHCPLEASEUNKNOWN response message, the DHCP server MUST echo the option 82 received in the DHCPLEASEQUERY message. No other option is included in the message.",
      "ja": "DHCPleaseunknownの応答メッセージでは、DHCPサーバーは、DHCPleasequeryメッセージで受信したオプション82をエコーする必要があります。メッセージには他のオプションが含まれていません。"
    },
    {
      "indent": 0,
      "text": "4.4. Determining the IP Address to Be Used in Response",
      "section_title": true,
      "ja": "4.4. それに応じて使用するIPアドレスを決定します"
    },
    {
      "indent": 3,
      "text": "The IP address placed in the ciaddr field of a DHCPLEASEACTIVE message MUST be the IP address with the latest client-last-transaction-time associated with the client described by the Remote ID specified in the DHCPLEASEQUERY message.",
      "ja": "DHC遊液メッセージのCIADDRフィールドに配置されたIPアドレスは、DHCPleaseQueryメッセージで指定されたリモートIDで説明されているクライアントに関連付けられた最新のクライアント-Lastトランザクション時間を持つIPアドレスでなければなりません。"
    },
    {
      "indent": 3,
      "text": "If there is only a single IP address that fulfills this criteria, then it MUST be placed in the ciaddr field of the DHCPLEASEACTIVE message.",
      "ja": "この基準を満たす単一のIPアドレスのみがある場合、DHC遊液メッセージのCIADDRフィールドに配置する必要があります。"
    },
    {
      "indent": 3,
      "text": "In the case where more than one IP address has been accessed by the client specified by the Remote ID, then the DHCP server MUST return the IP address returned to the client in the most recent transaction with the client, unless the DHCP server has been configured by the server administrator to use some other preference mechanism.",
      "ja": "リモートIDで指定されたクライアントが複数のIPアドレスにアクセスした場合、DHCPサーバーが設定されていない限り、DHCPサーバーはクライアントとの最新のトランザクションでクライアントに戻すIPアドレスを返す必要があります。サーバー管理者によって、他の選好メカニズムを使用します。"
    },
    {
      "indent": 0,
      "text": "4.5. Sending a DHCPLEASEACTIVE or DHCPLEASEUNKNOWN Message",
      "section_title": true,
      "ja": "4.5. dhcpleaseactiveまたはdhcpleaseunknownのメッセージを送信します"
    },
    {
      "indent": 3,
      "text": "The server unicasts the DHCPLEASEACTIVE or DHCPLEASEUNKNOWN message to the address specified in the giaddr field of the DHCPLEASEQUERY message.",
      "ja": "サーバーは、dhcpleasequeryメッセージのGIADDRフィールドで指定されたアドレスへのDHCPLEASEACTIVEまたはDHCPLEASENKNOWNの知られているメッセージをユニカストします。"
    },
    {
      "indent": 0,
      "text": "4.6. Receiving a DHCPLEASEACTIVE or DHCPLEASEUNKNOWN Message",
      "section_title": true,
      "ja": "4.6. dhcpleaseactiveまたはdhcpleaseunknownのメッセージを受信します"
    },
    {
      "indent": 3,
      "text": "When a DHCPLEASEACTIVE message is received in response to the DHCPLEASEQUERY message, it means that there is currently an active lease associated with the Remote ID in the DHCP server. The access concentrator SHOULD use the information in the htype, hlen, and chaddr fields of the DHCPLEASEACTIVE message as well as the Relay Agent Information option included in the packet to refresh its location information for this IP address. An access concentrator is likely to query by IP address for all the IP addresses specified in the Associated-IP option in the response, if any, at this point in time.",
      "ja": "DHCPleasequeryメッセージに応じてDHCPleaSeactiveメッセージが受信されると、DHCPサーバーのリモートIDに関連付けられたアクティブなリースが現在あることを意味します。Access concentoratorは、DHC遊液メッセージのHTYPE、HLEN、およびCHADDRフィールドの情報と、このIPアドレスの位置情報を更新するためにパケットに含まれるリレーエージェント情報オプションを使用する必要があります。アクセスコンセントレーターは、この時点で、応答の関連するIPオプションで指定されたすべてのIPアドレスに対して、IPアドレスごとにクエリする可能性があります。"
    },
    {
      "indent": 3,
      "text": "When a DHCPLEASEUNKNOWN message is received by an access concentrator that had sent out a DHCPLEASEQUERY message, it means that the DHCP server does not have definitive information concerning the DHCP client specified in the Remote ID sub-option of the DHCPLEASEQUERY message. The access concentrator MAY store this information for future use. However, another DHCPLEASEQUERY message to the same DHCP server SHOULD NOT be attempted with the same Remote ID sub-option.",
      "ja": "DHCPleaseunknownの既知のメッセージがDHCPleasequeryメッセージを送信したアクセスコンセントレーターによって受信されると、DHCPサーバーには、DHCPleasequeryメッセージのリモートIDサブオプションで指定されたDHCPクライアントに関する決定的な情報がないことを意味します。アクセスコンセントレーターは、将来の使用のためにこの情報を保存することができます。ただし、同じリモートIDサブオプションでは、同じDHCPサーバーへの別のDHCPLEASEQUERYメッセージを試してはなりません。"
    },
    {
      "indent": 3,
      "text": "For lease query by Remote ID, the impact of negative caching is greatly reduced, as the response leads to \"definitive\" information on all the nodes connected behind the connection. Note that in the case of the data-driven approach [RFC4388], a node spoofing several IP addresses can lead to negative caching of greater magnitude. Another important change that this document brings is the removal of periodic lease queries generated from negative caching caused by DHCPLEASEUNKNOWN messages. Since the information obtained through query by Remote ID is complete, there is no need to attempt lease query again for the same connection.",
      "ja": "リモートIDによるリースクエリの場合、ネガティブキャッシュの影響は大幅に減少します。これは、応答が接続の背後に接続されたすべてのノードに関する「決定的な」情報につながるためです。データ駆動型のアプローチ[RFC4388]の場合、いくつかのIPアドレスをスプーフィングするノードは、大きさのマイナスキャッシュにつながる可能性があることに注意してください。このドキュメントがもたらすもう1つの重要な変更は、DHCPleaseunknownのメッセージによって引き起こされるネガティブキャッシュから生成される定期的なリースクエリの削除です。リモートIDによるクエリを通じて取得された情報は完了しているため、同じ接続に対して再度リースクエリを試みる必要はありません。"
    },
    {
      "indent": 0,
      "text": "4.7. Receiving No Response to the DHCPLEASEQUERY Message",
      "section_title": true,
      "ja": "4.7. DHCPleasequeryメッセージへの応答はありません"
    },
    {
      "indent": 3,
      "text": "The condition of an access concentrator receiving no response to a DHCPLEASEQUERY message is handled in the same manner as suggested in RFC 4388 [RFC4388].",
      "ja": "dhcpleasequeryメッセージに対する応答を受けないアクセスコンセントレーターの条件は、RFC 4388 [RFC4388]で提案されているのと同じ方法で処理されます。"
    },
    {
      "indent": 0,
      "text": "4.8. Lease-Binding Data Storage Requirements",
      "section_title": true,
      "ja": "4.8. リース拘束データストレージ要件"
    },
    {
      "indent": 3,
      "text": "Implementation Note:",
      "ja": "実装注："
    },
    {
      "indent": 3,
      "text": "To generate replies for a lease query by Remote ID efficiently, a DHCP server should index the lease-binding data structures using Remote ID.",
      "ja": "リモートIDによるリースクエリの返信を効率的に生成するには、DHCPサーバーはリモートIDを使用してリースバインディングデータ構造にインデックスを作成する必要があります。"
    },
    {
      "indent": 0,
      "text": "4.9. Using the DHCPLEASEQUERY Message with Multiple DHCP Servers",
      "section_title": true,
      "ja": "4.9. 複数のDHCPサーバーを使用してDHCPleasequeryメッセージを使用します"
    },
    {
      "indent": 3,
      "text": "This scenario is handled in the same way it is done in RFC 4388 [RFC4388].",
      "ja": "このシナリオは、RFC 4388 [RFC4388]で行われるのと同じ方法で処理されます。"
    },
    {
      "indent": 0,
      "text": "5. RFC 4388 Considerations",
      "section_title": true,
      "ja": "5. RFC 4388考慮事項"
    },
    {
      "indent": 3,
      "text": "This document is compatible with RFC 4388-based [RFC4388] implementations, which means that a client that supports this extension can work with a server not supporting this document, provided it uses RFC 4388-defined query types. Also, a server supporting this document can work with a client not supporting this query type. However, there are some changes that this document proposes with respect to RFC 4388 [RFC4388]. Implementers extending RFC 4388 [RFC4388] implementations to support this document should take note of the following points:",
      "ja": "このドキュメントは、RFC 4388ベースの[RFC4388]実装と互換性があります。つまり、この拡張機能をサポートするクライアントは、RFC 4388定義のクエリタイプを使用すると、このドキュメントをサポートしていないサーバーで動作できます。また、このドキュメントをサポートするサーバーは、このクエリタイプをサポートしていないクライアントと連携することができます。ただし、このドキュメントがRFC 4388 [RFC4388]に関して提案するいくつかの変更があります。このドキュメントをサポートするためのRFC 4388 [RFC4388]の実装を拡張する実装者は、次のポイントに注意する必要があります。"
    },
    {
      "indent": 3,
      "text": "o There may be cases where a query by IP address/MAC address/Client Identifier has an option 82 containing a Remote ID. In that case, the query will still be recognized as a query by IP address/MAC address/Client Identifier as specified by RFC 4388 [RFC4388].",
      "ja": "o IPアドレス/MACアドレス/クライアント識別子によるクエリには、リモートIDを含むオプション82がある場合があります。その場合、クエリは、RFC 4388 [RFC4388]で指定されているように、IPアドレス/MACアドレス/クライアント識別子によるクエリとして認識されます。"
    },
    {
      "indent": 3,
      "text": "o Section 6.4 of RFC 4388 [RFC4388] suggests that a DHCPLEASEUNKNOWN message MUST NOT have any other option present. But for a query by Remote ID, option 82 MUST be present in the reply.",
      "ja": "o RFC 4388 [RFC4388]のセクション6.4は、DHCPleaseunknownのメッセージに他のオプションが存在してはならないことを示唆しています。ただし、リモートIDによるクエリの場合、オプション82を返信に存在する必要があります。"
    },
    {
      "indent": 0,
      "text": "6. Security Considerations",
      "section_title": true,
      "ja": "6. セキュリティに関する考慮事項"
    },
    {
      "indent": 3,
      "text": "This document inherits the security concerns present in the original lease query protocol specification (RFC 4388 [RFC4388]).",
      "ja": "このドキュメントは、元のリースクエリプロトコル仕様（RFC 4388 [RFC4388]）に存在するセキュリティの懸念を継承しています。"
    },
    {
      "indent": 3,
      "text": "This specification introduces one additional issue, beyond those described in RFC 4388 [RFC4388]. A query by Remote ID will result in the server replying with consolidated lease-binding information. Such a query, if done from an unauthorized source, may lead to a leak of lease-binding information. It is critical to deploy authentication techniques mentioned in RFC 3118 [RFC3118] to prevent such unauthorized lease queries.",
      "ja": "この仕様では、RFC 4388 [RFC4388]に記載されている問題を超えて、追加の問題を紹介します。リモートIDによるクエリは、サーバーが統合されたリース拘束情報で応答します。このようなクエリは、許可されていないソースから行われた場合、リース拘束力のある情報のリークにつながる可能性があります。RFC 3118 [RFC3118]で言及されている認証手法を展開して、このような不正なリースクエリを防ぐことが重要です。"
    },
    {
      "indent": 0,
      "text": "7. Acknowledgments",
      "section_title": true,
      "ja": "7. 謝辞"
    },
    {
      "indent": 3,
      "text": "Copious amounts of text in this document are derived from RFC 4388 [RFC4388]. Kim Kinnear, Damien Neil, Stephen Jacob, Ted Lemon, Ralph Droms, and Alfred Hoenes provided valuable feedback on this document.",
      "ja": "このドキュメントの大量のテキストは、RFC 4388 [RFC4388]から派生しています。キム・キニア、ダミアン・ニール、スティーブン・ジェイコブ、テッド・レモン、ラルフ・ドロム、およびアルフレッド・ホーネスは、この文書に関する貴重なフィードバックを提供しました。"
    },
    {
      "indent": 0,
      "text": "8. References",
      "section_title": true,
      "ja": "8. 参考文献"
    },
    {
      "indent": 0,
      "text": "8.1. Normative References",
      "section_title": true,
      "ja": "8.1. 引用文献"
    },
    {
      "indent": 3,
      "text": "[RFC2119] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, March 1997.",
      "ja": "[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するためのキーワード」、BCP 14、RFC 2119、1997年3月。"
    },
    {
      "indent": 3,
      "text": "[RFC4388] Woundy, R. and K. Kinnear, \"Dynamic Host Configuration Protocol (DHCP) Leasequery\", RFC 4388, February 2006.",
      "ja": "[RFC4388]創傷、R。およびK.キニア、「ダイナミックホスト構成プロトコル（DHCP）リースクリー」、RFC 4388、2006年2月。"
    },
    {
      "indent": 3,
      "text": "[RFC2131] Droms, R., \"Dynamic Host Configuration Protocol\", RFC 2131, March 1997.",
      "ja": "[RFC2131] DROMS、R。、「動的ホスト構成プロトコル」、RFC 2131、1997年3月。"
    },
    {
      "indent": 3,
      "text": "[RFC2132] Alexander, S. and R. Droms, \"DHCP Options and BOOTP Vendor Extensions\", RFC 2132, March 1997.",
      "ja": "[RFC2132] Alexander、S。およびR. Droms、「DHCPオプションとBOOTPベンダー拡張機能」、RFC 2132、1997年3月。"
    },
    {
      "indent": 3,
      "text": "[RFC3046] Patrick, M., \"DHCP Relay Agent Information Option\", RFC 3046, January 2001.",
      "ja": "[RFC3046] Patrick、M。、「DHCPリレーエージェント情報オプション」、RFC 3046、2001年1月。"
    },
    {
      "indent": 3,
      "text": "[RFC3118] Droms, R., Ed. and W. Arbaugh, Ed., \"Authentication for DHCP Messages\", RFC 3118, June 2001.",
      "ja": "[RFC3118] Droms、R.、ed。およびW. Arbaugh編、「DHCPメッセージの認証」、RFC 3118、2001年6月。"
    },
    {
      "indent": 0,
      "text": "8.2. Informative References",
      "section_title": true,
      "ja": "8.2. 参考引用"
    },
    {
      "indent": 3,
      "text": "[RFC951] Croft, B. and J. Gilmore, \"Bootstrap Protocol (BOOTP)\", RFC 951, September 1985.",
      "ja": "[RFC951] Croft、B。およびJ. Gilmore、「Bootstrap Protocol（BOOTP）」、RFC 951、1985年9月。"
    },
    {
      "indent": 3,
      "text": "[RFC1542] Wimer, W., \"Clarifications and Extensions for the Bootstrap Protocol\", RFC 1542, October 1993.",
      "ja": "[RFC1542] Wimer、W。、「ブートストラッププロトコルの説明と拡張」、RFC 1542、1993年10月。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "Pavan Kurapati Juniper Networks Embassy Prime Buildings, C.V. Raman Nagar Bangalore 560 093 India",
      "ja": "Pavan Kurapati Juniper Networks Embassy Prime Buildings、C.V。ラマンナガルバンガロール560 093インド"
    },
    {
      "indent": 3,
      "text": "EMail: kurapati@juniper.net\nURI:   http://www.juniper.net/",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "D.T.V Ramakrishna Rao Infosys Technologies Ltd. 44 Electronics City, Hosur Road Bangalore 560 100 India",
      "ja": "D.T.V Ramakrishna Rao Infosys Technologies Ltd. 44 Electronics City、Hosur Road Bangalore 560 100 India"
    },
    {
      "indent": 3,
      "text": "EMail: ramakrishnadtv@infosys.com\nURI:   http://www.infosys.com/",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Bharat Joshi Infosys Technologies Ltd. 44 Electronics City, Hosur Road Bangalore 560 100 India",
      "ja": "Bharat Joshi Infosys Technologies Ltd. 44 Electronics City、Hosur Road Bangalore 560 100 India"
    },
    {
      "indent": 3,
      "text": "EMail: bharat_joshi@infosys.com\nURI:   http://www.infosys.com/",
      "raw": true,
      "ja": ""
    }
  ]
}