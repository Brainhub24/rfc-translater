{
  "title": {
    "text": "RFC 6198 - Requirements for the Graceful Shutdown of BGP Sessions",
    "ja": "RFC 6198 - BGPセッションの優雅なシャットダウンの要件"
  },
  "number": 6198,
  "created_at": "2022-12-31 21:17:11.836077+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                       B. Decraene\nRequest for Comments: 6198                                France Telecom\nCategory: Informational                                      P. Francois\nISSN: 2070-1721                                                      UCL\n                                                              C. Pelsser\n                                                                     IIJ\n                                                                Z. Ahmad\n                                                Orange Business Services\n                                                  A.J. Elizondo Armengol\n                                                          Telefonica I+D\n                                                               T. Takeda\n                                                                     NTT\n                                                              April 2011",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": "Requirements for the Graceful Shutdown of BGP Sessions",
      "ja": "BGPセッションの優雅なシャットダウンの要件"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "ja": "概要"
    },
    {
      "indent": 3,
      "text": "The Border Gateway Protocol (BGP) is heavily used in Service Provider networks for both Internet and BGP/MPLS VPN services. For resiliency purposes, redundant routers and BGP sessions can be deployed to reduce the consequences of an Autonomous System Border Router (ASBR) or BGP session breakdown on customers' or peers' traffic. However, simply taking down or even bringing up a BGP session for maintenance purposes may still induce connectivity losses during the BGP convergence. This is no longer satisfactory for new applications (e.g., voice over IP, online gaming, VPN). Therefore, a solution is required for the graceful shutdown of a (set of) BGP session(s) in order to limit the amount of traffic loss during a planned shutdown. This document expresses requirements for such a solution.",
      "ja": "Border Gateway Protocol（BGP）は、インターネットとBGP/MPLS VPNサービスの両方のサービスプロバイダーネットワークで頻繁に使用されています。回復力のために、冗長ルーターとBGPセッションを展開して、自律システムのボーダールーター（ASBR）またはBGPセッションの故障の結果を減らすことができます。ただし、メンテナンスの目的でBGPセッションを削除したり、持ち上げたりするだけでも、BGP収束中に接続性の損失を引き起こす可能性があります。これは、新しいアプリケーション（例：IP、オンラインゲーム、VPNなど）で満足のいくものではありません。したがって、計画されたシャットダウン中のトラフィックの損失の量を制限するために、BGPセッションのセットの優雅なシャットダウンには解決策が必要です。このドキュメントでは、このようなソリューションの要件を表しています。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "ja": "本文書の位置付け"
    },
    {
      "indent": 3,
      "text": "This document is not an Internet Standards Track specification; it is published for informational purposes.",
      "ja": "このドキュメントは、インターネット標準の追跡仕様ではありません。情報目的で公開されています。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Not all documents approved by the IESG are a candidate for any level of Internet Standard; see Section 2 of RFC 5741.",
      "ja": "このドキュメントは、インターネットエンジニアリングタスクフォース（IETF）の製品です。IETFコミュニティのコンセンサスを表しています。公開レビューを受けており、インターネットエンジニアリングステアリンググループ（IESG）からの出版が承認されています。IESGによって承認されたすべてのドキュメントが、あらゆるレベルのインターネット標準の候補者ではありません。RFC 5741のセクション2を参照してください。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc6198.",
      "ja": "このドキュメントの現在のステータス、任意のERRATA、およびそのフィードバックを提供する方法に関する情報は、http：//www.rfc-editor.org/info/rfc6198で取得できます。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2011 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "ja": "Copyright（c）2011 IETF Trustおよび文書著者として特定された人。全著作権所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.",
      "ja": "このドキュメントは、BCP 78およびIETFドキュメント（http://trustee.ietf.org/license-info）に関連するIETF Trustの法的規定の対象となります。この文書に関するあなたの権利と制限を説明するので、これらの文書を注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、セクション4.Eで説明されている法的規定のセクション4.Eで説明されており、単純化されたBSDライセンスで説明されているように保証なしで提供される簡略化されたBSDライセンステキストを含める必要があります。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1. Introduction ....................................................2\n2. Conventions Used in This Document ...............................3\n3. Problem Statement ...............................................4\n   3.1. Example of Undesirable BGP Routing Behavior ................4\n   3.2. Causes of Packet Loss ......................................5\n4. Terminology .....................................................6\n5. Goals and Requirements ..........................................7\n6. Security Considerations ........................................10\n7. References .....................................................10\n   7.1. Normative References ......................................10\n   7.2. Informative References ....................................10\nAcknowledgments ...................................................11\nAppendix A. Reference BGP Topologies ..............................12\n   A.1. EBGP Topologies ...........................................12\n   A.2. IBGP Topologies ...........................................15\n   A.3. Routing Decisions .........................................19",
      "raw": true,
      "toc": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1. はじめに"
    },
    {
      "indent": 3,
      "text": "The Border Gateway Protocol (BGP) [RFC4271] is heavily used in Service Provider networks for both Internet and BGP/MPLS VPN services [RFC4364]. For resiliency purposes, redundant routers and BGP sessions can be deployed to reduce the consequences of an Autonomous System Border Router (ASBR) or BGP session breakdown on customers' or peers' traffic.",
      "ja": "Border Gateway Protocol（BGP）[RFC4271]は、インターネットとBGP/MPLS VPNサービスの両方のサービスプロバイダーネットワーク[RFC4364]の両方のサービスプロバイダーネットワークでよく使用されています。回復力のために、冗長ルーターとBGPセッションを展開して、自律システムのボーダールーター（ASBR）またはBGPセッションの故障の結果を減らすことができます。"
    },
    {
      "indent": 3,
      "text": "We place ourselves in the context where a Service Provider performs a maintenance operation and needs to shut down one or multiple BGP peering link(s) or a whole ASBR. If an alternate path is available within the Autonomous System (AS), the requirement is to avoid or reduce customer or peer traffic loss during the BGP convergence.",
      "ja": "サービスプロバイダーがメンテナンス操作を実行し、1つまたは複数のBGPピアリングリンクまたはASBR全体をシャットダウンする必要があるコンテキストに自分自身を置きます。自律システム内（AS）内で代替パスが利用可能である場合、要件は、BGP収束中の顧客またはピアトラフィックの損失を回避または削減することです。"
    },
    {
      "indent": 3,
      "text": "Indeed, as an alternate path is available in the AS, it should be made possible to reroute the customer or peer traffic on this backup path before the BGP session(s) is/are torn down, the nominal path withdrawn, and the forwarding stopped.",
      "ja": "実際、ASで代替パスが利用可能であるため、BGPセッションが取り壊される前にこのバックアップパスで顧客またはピアトラフィックを再ルーティングすることを可能にする必要があります。。"
    },
    {
      "indent": 3,
      "text": "The requirements also cover the subsequent re-establishment of the BGP session as even this \"UP\" case can currently trigger route loss, and thus traffic loss, at some routers.",
      "ja": "また、この「UP」ケースでさえ、一部のルーターでルートの損失、したがってトラフィックの損失を引き起こす可能性があるため、BGPセッションのその後の再確立をカバーしています。"
    },
    {
      "indent": 3,
      "text": "BGP [RFC4271] and MP-BGP [RFC4760] do not currently have a mechanism to gracefully migrate traffic from one BGP next-hop to another without interrupting the flow of traffic. When a BGP session is taken down, BGP behaves as if there were a sudden link or router failure and withdraws the prefixes learned over that session, which may trigger traffic loss. While still being advertised as reachable, there is no mechanism to advertise to its BGP peers that the prefix will soon be unreachable. When applicable, such mechanism would reduce or prevent traffic loss. It would typically be applicable in case of a maintenance operation requiring the shutdown of a forwarding resource. Typical examples would be a link or line card maintenance, replacement, or upgrade. It may also be applicable for a software upgrade, as it may involve a firmware reset on the line cards and hence forwarding interruption.",
      "ja": "BGP [RFC4271]およびMP-BGP [RFC4760]には、トラフィックの流れを中断することなく、あるBGPの次のホップから別のBGPの次のホップに優雅に移行するメカニズムは現在ありません。BGPセッションが削除されると、BGPは突然のリンクまたはルーターの故障があるかのように動作し、そのセッションで学習したプレフィックスを引き出し、トラフィックの損失を引き起こす可能性があります。まだ到達可能であると宣伝されていますが、プレフィックスがすぐに到達できないことをBGPピアに宣伝するメカニズムはありません。該当する場合、そのようなメカニズムはトラフィックの損失を減少または防止します。通常、転送リソースのシャットダウンを必要とするメンテナンス操作の場合に適用できます。典型的な例は、リンクまたはラインカードのメンテナンス、交換、またはアップグレードです。また、ラインカードのファームウェアリセットが含まれ、したがって中断の転送が含まれる可能性があるため、ソフトウェアのアップグレードにも適用できる場合があります。"
    },
    {
      "indent": 3,
      "text": "The introduction of route reflectors (RRs) as per [RFC4456] to solve scalability issues bound to Internal BGP (IBGP) full-meshes has worsened the duration of routing convergence as some route reflectors may hide the backup path. Thus, depending on RR topology, more IBGP hops may be involved in the IBGP convergence.",
      "ja": "内部BGP（IBGP）フルメッシュに結合したスケーラビリティの問題を解決するためのルートリフレクター（RRS）の導入は、一部のルートリフレクターがバックアップパスを隠す可能性があるため、ルーティング収束の期間が悪化しました。したがって、RRトポロジーに応じて、IBGP収束にもっと多くのIBGPホップが関与している可能性があります。"
    },
    {
      "indent": 3,
      "text": "Note that these planned maintenance operations cannot be addressed by Graceful Restart (GR) extensions [RFC4724] as GR only applies when the forwarding is preserved during the control plane restart. On the contrary, graceful shutdown applies when the forwarding is interrupted.",
      "ja": "これらの計画されたメンテナンス操作は、GRがコントロールプレーンの再起動中に転送が保存されている場合にのみ適用されるため、Graceful Restart（GR）拡張[RFC4724]で対処できないことに注意してください。それどころか、転送が中断されると、優雅なシャットダウンが適用されます。"
    },
    {
      "indent": 3,
      "text": "Also, note that some protocols are already considering such a graceful shutdown procedure (e.g., GMPLS in [RFC5817]).",
      "ja": "また、一部のプロトコルはすでにこのような優雅なシャットダウン手順を検討していることに注意してください（例：[RFC5817]のGMPL）。"
    },
    {
      "indent": 3,
      "text": "A metric of success is the degree to which such a mechanism eliminates traffic loss during maintenance operations.",
      "ja": "成功の指標とは、そのようなメカニズムがメンテナンス操作中のトラフィックの損失を排除する程度です。"
    },
    {
      "indent": 0,
      "text": "2. Conventions Used in This Document",
      "section_title": true,
      "ja": "2. このドキュメントで使用されている規則"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in RFC 2119 [RFC2119].",
      "ja": "この文書のキーワード \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", および \"OPTIONAL\" はRFC 2119 [RFC2119]で説明されているように解釈されます。"
    },
    {
      "indent": 0,
      "text": "3. Problem Statement",
      "section_title": true,
      "ja": "3. 問題文"
    },
    {
      "indent": 3,
      "text": "As per [RFC4271], when one (or many) BGP session(s) are shut down, a BGP NOTIFICATION message is sent to the peer and the session is then closed. A protocol convergence is then triggered both by the local router and by the peer. Alternate paths to the destination are selected, if known. If those alternate paths are not known prior to the BGP session shutdown, additional BGP convergence steps are required in each AS to search for an alternate path.",
      "ja": "[RFC4271]によると、1つ（または多くの）BGPセッションがシャットダウンされると、BGP通知メッセージがピアに送信され、セッションが閉じられます。次に、ローカルルーターとピアによってプロトコル収束がトリガーされます。既知の場合、宛先への代替パスが選択されます。BGPセッションのシャットダウンの前にこれらの代替パスが不明な場合、代替パスを検索するために、それぞれに追加のBGP収束ステップが必要です。"
    },
    {
      "indent": 3,
      "text": "This behavior is not satisfactory in a maintenance situation because the traffic that was directed towards the removed next-hops may be lost until the end of the BGP convergence. As it is a planned operation, a make-before-break solution should be made possible.",
      "ja": "この動作は、メンテナンスの状況では満足のいくものではありません。なぜなら、BGP収束の終了まで削除された次元に向けられたトラフィックが失われる可能性があるためです。計画された操作であるため、ブレイク前の解決策を可能にする必要があります。"
    },
    {
      "indent": 3,
      "text": "As maintenance operations are frequent in large networks [Reliable], the global availability of the network is significantly impaired by this BGP maintenance issue.",
      "ja": "メンテナンス操作は大規模なネットワーク[信頼性]で頻繁に発生するため、ネットワークの世界的な可用性は、このBGPメンテナンスの問題によって著しく損なわれています。"
    },
    {
      "indent": 0,
      "text": "3.1. Example of Undesirable BGP Routing Behavior",
      "section_title": true,
      "ja": "3.1. 望ましくないBGPルーティング動作の例"
    },
    {
      "indent": 3,
      "text": "To illustrate these problems, let us consider the following simple example where one customer router \"CUST\" is dual-attached to two Service Providers' routers, \"ASBR1\" and \"ASBR2\".",
      "ja": "これらの問題を説明するために、1つの顧客ルーターの「CUST」が2つのサービスプロバイダーのルーター「ASBR1」と「ASBR2」に二重に接続されているという単純な例を考えてみましょう。"
    },
    {
      "indent": 3,
      "text": "ASBR1 and ASBR2 are in the same AS and are owned by the same Service Provider. Both are IBGP clients of the route reflector R1.",
      "ja": "ASBR1とASBR2は同じサービスプロバイダーと同じであり、所有されています。どちらもルートリフレクターR1のIBGPクライアントです。"
    },
    {
      "indent": 18,
      "text": " ' AS1 ' AS2 '",
      "ja": "「AS1」AS2 '"
    },
    {
      "indent": 9,
      "text": "         /-----------ASBR1---\n        /                     \\\n       /                       \\\n   CUST                         R1\n       \\                       /\nZ/z     \\                     /\n         \\-----------ASBR2---",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 18,
      "text": " ' AS1 ' AS2 '",
      "ja": "「AS1」AS2 '"
    },
    {
      "indent": 9,
      "text": "Figure 1. Dual-Attached Customer",
      "ja": "図1.二重の顧客"
    },
    {
      "indent": 3,
      "text": "Before the maintenance, packets for destination Z/z use the ASBR1- CUST link because R1 selects ASBR1's route based on the IGP cost.",
      "ja": "メンテナンスの前に、宛先Z/Zのパケットは、IGPコストに基づいてASBR1のルートを選択するため、ASBR1- CUSTリンクを使用します。"
    },
    {
      "indent": 3,
      "text": "Let's assume the Service Provider wants to shut down the ASBR1-CUST link for maintenance purposes. Currently, when the shutdown is performed on ASBR1, the following steps are performed:",
      "ja": "サービスプロバイダーがメンテナンス目的でASBR1-Custリンクをシャットダウンしたいと仮定しましょう。現在、ASBR1でシャットダウンが実行されると、次の手順が実行されます。"
    },
    {
      "indent": 6,
      "text": "1. ASBR1 withdraws its prefix Z/z to its route reflector, R1.",
      "ja": "1. ASBR1は、そのプレフィックスz/zをルートリフレクターR1に引き出します。"
    },
    {
      "indent": 6,
      "text": "2. R1 runs its decision process, selects the route from ASBR2, and advertises the new path to ASBR1.",
      "ja": "2. R1は決定プロセスを実行し、ASBR2からルートを選択し、ASBR1への新しいパスを宣伝します。"
    },
    {
      "indent": 6,
      "text": "3. ASBR1 runs its decision process and recovers the reachability of Z/z.",
      "ja": "3. ASBR1は決定プロセスを実行し、z/zの到達可能性を回復します。"
    },
    {
      "indent": 3,
      "text": "Traffic is lost at step 1 when ASBR1 looses its route until step 3 when it discovers a new path.",
      "ja": "ASBR1が新しいパスを発見するステップ3までルートを失うステップ1でトラフィックが失われます。"
    },
    {
      "indent": 3,
      "text": "Note that this is a simplified description for illustrative purposes. In a bigger AS, multiple steps of BGP convergence may be required to find and select the best alternate path (e.g., ASBR1 may be chosen based on a higher LOCAL_PREF, hierarchical route reflectors may be used, etc.). When multiple BGP routers are involved and plenty of prefixes are affected, the recovery process can take longer than application requirements.",
      "ja": "これは、実例のための簡略化された説明であることに注意してください。より大きなASでは、BGP収束の複数のステップが最適な代替パスを見つけて選択する必要がある場合があります（たとえば、ASBR1は、より高いLocal_Prefに基づいて選択できます。階層ルートリフレクターを使用するなど）。複数のBGPルーターが関与し、多くの接頭辞が影響を受けると、回復プロセスにはアプリケーション要件よりも時間がかかる場合があります。"
    },
    {
      "indent": 0,
      "text": "3.2. Causes of Packet Loss",
      "section_title": true,
      "ja": "3.2. パケット損失の原因"
    },
    {
      "indent": 3,
      "text": "The loss of packets during maintenance has two main causes:",
      "ja": "メンテナンス中のパケットの損失には、2つの主な原因があります。"
    },
    {
      "indent": 6,
      "text": "- lack of an alternate path on some routers, and",
      "ja": "- いくつかのルーターに代替パスがないこと、および"
    },
    {
      "indent": 6,
      "text": "- transient routing inconsistency.",
      "ja": "- 一時的なルーティングの矛盾。"
    },
    {
      "indent": 3,
      "text": "Some routers may lack an alternate path because another router is hiding the backup path. This router can be:",
      "ja": "別のルーターがバックアップパスを隠しているため、一部のルーターは代替パスがない場合があります。このルーターは次のことができます："
    },
    {
      "indent": 6,
      "text": "- a route reflector only propagating its best path.",
      "ja": "- ルートリフレクターは、その最高のパスのみを伝播します。"
    },
    {
      "indent": 6,
      "text": "- the backup ASBR not advertising the backup path because it prefers the nominal path.",
      "ja": "- バックアップASBRは、名目パスを好むため、バックアップパスを宣伝していません。"
    },
    {
      "indent": 3,
      "text": "This lack of knowledge regarding the alternate path is the first target of this requirements document.",
      "ja": "代替パスに関するこの知識の欠如は、この要件文書の最初のターゲットです。"
    },
    {
      "indent": 3,
      "text": "Transient routing inconsistencies happen during IBGP convergence because routers do not simultaneously update their Routing Information Bases (RIBs) and hence do not simultaneously update their Forwarding Information Bases (FIBs) entries. This can lead to forwarding loops, which result in both link congestion and packet drops. The duration of these transient micro-loops is dependent on the IBGP topology (e.g., number of route reflectors between ingress and egress ASBR), implementation differences among router platforms (which result in differences in the time taken to update specific prefix in the FIB), and forwarding mode (hop-by-hop IP forwarding versus tunneling).",
      "ja": "ルーターはルーティング情報ベース（リブ）を同時に更新せず、したがって、転送情報ベース（FIB）エントリを同時に更新しないため、IBGP収束中に一時的なルーティングの矛盾が発生します。これにより、転送ループにつながる可能性があり、その結果、リンクの混雑とパケットドロップの両方が生じます。これらの一時的なマイクロループの持続時間は、IBGPトポロジ（例えば、イングレスと出口ASBRの間のルートリフレクターの数）、ルータープラットフォーム間の実装の違い（FIBの特定のプレフィックスを更新するために取られた時間の違いをもたらす）に依存しています。、および転送モード（ホップバイホップIP転送とトンネリング）。"
    },
    {
      "indent": 3,
      "text": "Note that when an IP lookup is only performed on entry to the AS, for example, prior to entry into a tunnel across the AS, micro-loops will not occur. An example of this is when BGP is being used as the routing protocol for MPLS VPN as defined in [RFC4364].",
      "ja": "たとえば、ASへのトンネルに入る前にASへのエントリ時にのみIPルックアップが実行される場合、マイクロループは発生しません。この例は、[RFC4364]で定義されているように、BGPがMPLS VPNのルーティングプロトコルとして使用されている場合です。"
    },
    {
      "indent": 3,
      "text": "Note that [RFC5715] defines a framework for loop-free convergence. It has been written in the context of IP fast reroute for link state IGP [RFC5714], but some concepts are also of interest for BGP convergence.",
      "ja": "[RFC5715]は、ループフリーの収束のフレームワークを定義していることに注意してください。これは、Link State IGP [RFC5714]のIP Fast Rerouteのコンテキストで書かれていますが、BGP収束にとっていくつかの概念も興味深いものです。"
    },
    {
      "indent": 0,
      "text": "4. Terminology",
      "section_title": true,
      "ja": "4. 用語"
    },
    {
      "indent": 3,
      "text": "g-shut: Graceful shutdown. A method for explicitly notifying the BGP routers that a BGP session (and hence the prefixes learned over that session) is going to be disabled.",
      "ja": "G-Shut：優雅なシャットダウン。BGPルーターにBGPセッション（したがってそのセッションで学習したプレフィックス）が無効になることを明示的に通知する方法。"
    },
    {
      "indent": 3,
      "text": "g-noshut: Graceful no shutdown. A method for explicitly notifying the BGP routers that a BGP session (and hence the prefixes learned over that session) is going to be enabled.",
      "ja": "G-Noshut：Graceful No Shutdown。BGPルーターにBGPセッション（したがってそのセッションで学習したプレフィックス）が有効になることを明示的に通知する方法。"
    },
    {
      "indent": 3,
      "text": "g-shut initiator: the router on which the session(s) shutdown(s) is (are) performed for maintenance.",
      "ja": "G-SHUTイニシエーター：セッションがシャットダウンするルーターは、メンテナンスのために実行されます。"
    },
    {
      "indent": 3,
      "text": "g-shut neighbor: a router that peers with the g-shut initiator via (one of) the session(s) undergoing maintenance.",
      "ja": "G-Shut Neighbor：G-Shutイニシエーターと一緒に（その1つ）セッションを介して介して協力するルーター。"
    },
    {
      "indent": 3,
      "text": "affected prefixes: a prefix initially reached via the peering link(s) undergoing maintenance.",
      "ja": "影響を受けるプレフィックス：メンテナンスを受けているピアリングリンクを介して最初に到達したプレフィックス。"
    },
    {
      "indent": 3,
      "text": "affected router: a router reaching an affected prefix via a peering link undergoing maintenance.",
      "ja": "影響を受けるルーター：メンテナンスを受けているピアリングリンクを介して影響を受けるプレフィックスに到達するルーター。"
    },
    {
      "indent": 3,
      "text": "initiator AS: the autonomous system of the g-shut initiator router.",
      "ja": "イニシエーターAS：G-shutイニシエータールーターの自律システム。"
    },
    {
      "indent": 3,
      "text": "neighbor AS(es): the autonomous system(s) of the g-shut neighbor router(s).",
      "ja": "neighbor as ess：g-shut neighborルーターの自律システム。"
    },
    {
      "indent": 0,
      "text": "5. Goals and Requirements",
      "section_title": true,
      "ja": "5. 目標と要件"
    },
    {
      "indent": 3,
      "text": "Currently, when a BGP session of the router under maintenance is shut down, the router removes the routes and then triggers the BGP convergence on its BGP peers by withdrawing its route.",
      "ja": "現在、メンテナンス中のルーターのBGPセッションがシャットダウンされると、ルーターはルートを削除し、ルートを引き出してBGPピアのBGP収束をトリガーします。"
    },
    {
      "indent": 3,
      "text": "The goal of BGP graceful shutdown of a (set of) BGP session(s) is to minimize traffic loss during a planned shutdown. Ideally, a solution should reduce this traffic loss to zero.",
      "ja": "BGPの（Set of）BGPセッションの優雅なシャットダウンの目標は、計画されたシャットダウン中のトラフィックの損失を最小限に抑えることです。理想的には、ソリューションはこのトラフィックの損失をゼロに減らす必要があります。"
    },
    {
      "indent": 3,
      "text": "Another goal is to minimize and, preferably, to eliminate packet loss when the BGP session is re-established following the maintenance.",
      "ja": "もう1つの目標は、メンテナンス後にBGPセッションが再確立されたときにパケットの損失を最小限に抑え、できれば排除することです。"
    },
    {
      "indent": 3,
      "text": "As the event is known in advance, a make-before-break solution can be used in order to initiate the BGP convergence, find and install the alternate paths before the nominal paths are removed. As a result, before the nominal BGP session is shut down, all affected routers learn and use the alternate paths. Those alternate paths are computed by BGP, taking into account the known status of the network, which includes known failures that the network is processing concurrently with the BGP session graceful shutdown and possibly other known graceful shutdowns under way. Therefore, multiple BGP graceful shutdowns overlapping within a short time frame are gracefully handled. Indeed, a given graceful shutdown takes into account all previous ones.",
      "ja": "イベントが事前に知られているように、BGP収束を開始するためにブレイク前の解決策を使用して、公称パスが削除される前に代替パスを見つけてインストールできます。その結果、公称BGPセッションがシャットダウンされる前に、影響を受けるすべてのルーターが代替パスを学習して使用します。これらの代替パスは、ネットワークの既知のステータスを考慮してBGPによって計算されます。これには、ネットワークがBGPセッションの優雅なシャットダウンと同時に処理しているという既知の障害と、おそらく他の既知の優雅なシャットダウンが進行中です。したがって、短い時間枠内で重複する複数のBGPの優雅なシャットダウンが優雅に処理されます。実際、与えられた優雅なシャットダウンは、以前のすべてのものを考慮に入れています。"
    },
    {
      "indent": 3,
      "text": "As a result, provided an alternate path with enough remaining capacity is available, the packets are rerouted before the BGP session termination and fewer packets (possibly none) are lost during the BGP convergence process since, at any time, all routers have a valid path.",
      "ja": "その結果、十分な残り容量を備えた代替パスが利用可能である場合、BGPセッション終了の前にパケットが再ルーティングされ、BGP収束プロセス中にすべてのパケットが失われる可能性があります（おそらくなし）はいつでもすべてのルーターが有効なパスを持っているため。"
    },
    {
      "indent": 3,
      "text": "From the above goals, we can derive the following requirements:",
      "ja": "上記の目標から、次の要件を導き出すことができます。"
    },
    {
      "indent": 3,
      "text": "a) A mechanism to advertise the maintenance action to all affected routers is REQUIRED. Such a mechanism may be either implicit or explicit. Note that affected routers can be located both in the local AS and in neighboring ASes. Note also that the maintenance action can either be the shutdown of a BGP session or the establishment of a BGP session.",
      "ja": "a) 影響を受けるすべてのルーターにメンテナンスアクションを宣伝するメカニズムが必要です。このようなメカニズムは、暗黙的または明示的なものである場合があります。影響を受けるルーターは、ローカルASと隣接するASEの両方に配置できることに注意してください。また、メンテナンスアクションは、BGPセッションのシャットダウンまたはBGPセッションの確立である可能性があることに注意してください。"
    },
    {
      "indent": 8,
      "text": "The mechanism SHOULD allow BGP routers to minimize and, preferably, eliminate packet loss when a path is removed or advertised. In particular, it SHOULD be ensured that the old path is not removed from the routing tables of the affected routers before the new path is known.",
      "ja": "このメカニズムにより、BGPルーターが最小化され、できればパスが削除または宣伝されたときにパケットの損失を排除できるようにする必要があります。特に、新しいパスがわかる前に、影響を受けたルーターのルーティングテーブルから古い経路が削除されないようにする必要があります。"
    },
    {
      "indent": 8,
      "text": "The solution mechanism MUST significantly reduce and, ideally, eliminate packet loss. A trade-off may be made between the degree of packet loss and the simplicity of the solution.",
      "ja": "ソリューションメカニズムは、パケットの損失を大幅に削減し、理想的には排除する必要があります。パケット損失の程度とソリューションの単純さの間にトレードオフが行われる場合があります。"
    },
    {
      "indent": 3,
      "text": "b) An Internet-wide convergence is OPTIONAL. However, if the initiator AS and the neighbor AS(es) have a backup path, they SHOULD be able to gracefully converge before the nominal path is shut down.",
      "ja": "b) インターネット全体の収束はオプションです。ただし、イニシエーターASおよび隣人AS AS（ES）がバックアップパスを持っている場合、公称パスがシャットダウンする前に優雅に収束できるはずです。"
    },
    {
      "indent": 3,
      "text": "c) The proposed solution SHOULD be applicable to any kind of BGP sessions (External BGP (EBGP), IBGP, IBGP route reflector client, EBGP confederations, EBGP multi hop, MultiProtocol BGP extension, etc.) and any address family. If a BGP implementation allows the closing or enabling of a subset of Address Family Identifiers (AFIs) carried in an MP-BGP session, this mechanism MAY be applicable to this subset of AFIs.",
      "ja": "c) 提案されたソリューションは、あらゆる種類のBGPセッション（外部BGP（EBGP）、IBGP、IBGPルートリフレクタークライアント、EBGPコンフェデレーション、EBGPマルチホップ、マルチプロトコルBGP拡張など）および任意の住所ファミリに適用する必要があります。BGPの実装により、MP-BGPセッションで携帯されているアドレスファミリ識別子（AFI）のサブセットの閉鎖または有効化が可能になる場合、このメカニズムはAFIのこのサブセットに適用できる場合があります。"
    },
    {
      "indent": 8,
      "text": "Depending on the kind of session, there may be some variations in the proposed solution in order to fulfill the requirements.",
      "ja": "セッションの種類によっては、要件を満たすために提案されたソリューションにいくつかのバリエーションがある場合があります。"
    },
    {
      "indent": 8,
      "text": "The following cases should be handled in priority:",
      "ja": "次のケースは優先順位で処理する必要があります。"
    },
    {
      "indent": 8,
      "text": "- The shutdown of an inter-AS link and therefore the shutdown of an EBGP session;",
      "ja": "- Inter-ASリンクのシャットダウン、したがってEBGPセッションのシャットダウン。"
    },
    {
      "indent": 8,
      "text": "- The shutdown of an ASBR and therefore the shutdown of all its BGP sessions.",
      "ja": "- ASBRのシャットダウン、したがってそのすべてのBGPセッションのシャットダウン。"
    },
    {
      "indent": 8,
      "text": "Service Providers and platforms implementing a graceful shutdown solution should note that in BGP/MPLS VPN as per [RFC4364], the Provider Edge - Customer Edge (PE-CE) routing can be performed by protocols other than BGP (e.g., static routes, RIPv2, OSPF, IS-IS). This is out of scope of this document.",
      "ja": "優雅なシャットダウンソリューションを実装するサービスプロバイダーとプラットフォームは、[RFC4364]に従ってBGP/MPLS VPNでは、プロバイダーエッジ - 顧客エッジ（PE -CE）ルーティングは、BGP以外のプロトコルで実行できることに注意する必要があります。、ospf、is-is）。これはこのドキュメントの範囲外です。"
    },
    {
      "indent": 3,
      "text": "d) The proposed solution SHOULD NOT change the BGP convergence behavior for the ASes exterior to the maintenance process, namely, ASes other than the initiator AS and its neighbor AS(es).",
      "ja": "d) 提案されたソリューションは、メンテナンスプロセスの外側のASESのBGP収束挙動、つまり、イニシエーターASとその隣のAS AS（ES）以外のASESを変更するべきではありません。"
    },
    {
      "indent": 3,
      "text": "e) An incremental deployment on a per-AS or per-BGP session basis MUST be made possible. In case of partial deployment, the proposed solution SHOULD incrementally improve the maintenance process. It should be noted that in an inter-domain relation, one AS may have more incentive to use graceful shutdown than the other. Similarly, in a BGP/MPLS VPN environment, it's much easier to upgrade the PE routers than the CE ones, mainly because there is at least an order of magnitude more CE and CE locations than PE and PE locations. As a consequence, when splitting the cost of the solution between the g-shut initiator and the g-shut neighbor, the solution SHOULD favor a low-cost solution on the neighbor AS side in order to reduce the impact on the g-shut neighbor. Impact should be understood as a generic term that includes first hardware, then software, then configuration upgrade.",
      "ja": "e) ASごとまたはBGPごとのセッションベースでの増分展開を可能にする必要があります。部分的な展開の場合、提案されたソリューションはメンテナンスプロセスを徐々に改善する必要があります。ドメイン間の関係では、一方が他のものよりも優雅なシャットダウンを使用するインセンティブがある可能性があることに注意する必要があります。同様に、BGP/MPLS VPN環境では、PEルーターよりもPEルーターをアップグレードする方がはるかに簡単です。これは、主にPEおよびPEの位置よりも少なくとも1桁のCEとCEの場所があるためです。結果として、G-shutイニシエーターとG-shut隣人の間でソリューションのコストを分割する場合、ソリューションはG-shut隣人への影響を減らすために、隣人の低コストのソリューションを側面として好むはずです。影響は、最初のハードウェア、ソフトウェア、構成アップグレードを含む一般的な用語として理解する必要があります。"
    },
    {
      "indent": 3,
      "text": "f) Redistribution or advertisement of (static) IP routes into BGP SHOULD also be covered.",
      "ja": "f) BGPへの（静的）IPルートの再配布または広告もカバーする必要があります。"
    },
    {
      "indent": 3,
      "text": "g) The proposed solution MAY be designed in order to avoid transient forwarding loops. Indeed, forwarding loops increase packet transit-delay and may lead to link saturation.",
      "ja": "g) 提案されたソリューションは、一時的な転送ループを避けるために設計することができます。実際、転送ループはパケットトランジット遅延を増加させ、リンク飽和につながる可能性があります。"
    },
    {
      "indent": 3,
      "text": "h) The specific procedure SHOULD end when the BGP session is closed following the g-shut and once the BGP session is gracefully opened following the g-noshut. In the end, once the planned maintenance is finished, the nominal BGP routing MUST be re-established. The duration of the g-shut procedure, and hence the time before the BGP session is safely closed, SHOULD be discussed by the solution document. Examples of possible solutions are the use of a pre-configured timer, the use of a message to signal the end of the BGP convergence, or the monitoring of the traffic on the g-shut interface.",
      "ja": "h) 特定の手順は、G-Shutに続いてBGPセッションが閉じられ、G-Noshutに続いてBGPセッションが優雅に開かれたときに終了する必要があります。最終的に、計画されたメンテナンスが終了すると、公称BGPルーティングを再確立する必要があります。G-Shut手順の期間、したがってBGPセッションの前の時間は安全に閉じられる必要がありますが、ソリューションドキュメントで説明する必要があります。可能な解決策の例は、事前に構成されたタイマーの使用、BGP収束の終わりを通知するメッセージの使用、またはG-Shutインターフェイスのトラフィックの監視です。"
    },
    {
      "indent": 3,
      "text": "i) The solution SHOULD be simple and simple to operate. Hence, it MAY only cover a subset of the cases. As a consequence, most of the above requirements are expressed as \"SHOULD\" rather than \"MUST\".",
      "ja": "i) ソリューションはシンプルで操作が簡単でなければなりません。したがって、ケースのサブセットのみをカバーする場合があります。結果として、上記の要件のほとんどは、「必須」ではなく「必要」として表されます。"
    },
    {
      "indent": 8,
      "text": "The metrics to evaluate and compare the proposed solutions are:",
      "ja": "提案されたソリューションを評価および比較するメトリックは次のとおりです。"
    },
    {
      "indent": 8,
      "text": "- The duration of the remaining loss of connectivity when the BGP session is brought down or up;",
      "ja": "- BGPセッションが削減または上昇するときの接続性の残りの損失の期間。"
    },
    {
      "indent": 8,
      "text": "- The applicability to a wide range of BGP and network topologies;",
      "ja": "- 幅広いBGPおよびネットワークトポロジへの適用性。"
    },
    {
      "indent": 8,
      "text": "- The simplicity;",
      "ja": "- シンプルさ。"
    },
    {
      "indent": 8,
      "text": "- The duration of transient forwarding loops;",
      "ja": "- 一時的な転送ループの持続時間。"
    },
    {
      "indent": 8,
      "text": "- The additional load introduced in BGP (e.g., BGP messages sent to peer routers, peer ASes, the Internet).",
      "ja": "- BGPで導入された追加の負荷（たとえば、ピアルーター、ピアASE、インターネットに送信されるBGPメッセージ）。"
    },
    {
      "indent": 0,
      "text": "6. Security Considerations",
      "section_title": true,
      "ja": "6. セキュリティに関する考慮事項"
    },
    {
      "indent": 3,
      "text": "At the requirements stage, this graceful shutdown mechanism is not expected to affect the security of the BGP protocol, especially if it can be kept simple. No new sessions are required and the additional ability to signal the graceful shutdown is not expected to bring additional attack vectors, as BGP neighbors already have the ability to send incorrect or misleading information or even shut down the session.",
      "ja": "要件段階では、この優雅なシャットダウンメカニズムは、特に単純に保つことができる場合、BGPプロトコルのセキュリティに影響を与えるとは期待されていません。新しいセッションは必要ありません。また、BGPの隣人はすでに誤ったまたは誤解を招く情報を送信したり、セッションをシャットダウンする能力を持っているため、優雅なシャットダウンを示す追加の能力は追加の攻撃ベクトルをもたらすことは期待されていません。"
    },
    {
      "indent": 3,
      "text": "Security considerations MUST be addressed by the proposed solutions. In particular, they SHOULD address the issues of bogus g-shut messages and how they would affect the network(s), as well as the impact of hiding a g-shut message so that g-shut is not performed.",
      "ja": "セキュリティ上の考慮事項は、提案されたソリューションによって対処する必要があります。特に、偽のG-shutメッセージの問題と、それらがネットワークにどのように影響するか、およびG-shutメッセージが実行されないようにG-shutメッセージを隠すことの影響に対処する必要があります。"
    },
    {
      "indent": 3,
      "text": "The solution SHOULD NOT increase the ability of one AS to selectively influence routing decision in the peer AS (inbound Traffic Engineering) outside of the case of the BGP session shutdown. Otherwise, the peer AS SHOULD have means to detect such behavior.",
      "ja": "このソリューションは、BGPセッションのシャットダウンの場合の外側の（インバウンドトラフィックエンジニアリング）として、ピアのルーティング決定に選択的に影響を与えるために、能力を向上させるべきではありません。それ以外の場合、ピアはそのような動作を検出する手段を持っているはずです。"
    },
    {
      "indent": 0,
      "text": "7. References",
      "section_title": true,
      "ja": "7. 参考文献"
    },
    {
      "indent": 0,
      "text": "7.1. Normative References",
      "section_title": true,
      "ja": "7.1. 引用文献"
    },
    {
      "indent": 3,
      "text": "[RFC2119] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, March 1997.",
      "ja": "[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するためのキーワード」、BCP 14、RFC 2119、1997年3月。"
    },
    {
      "indent": 3,
      "text": "[RFC4271] Rekhter, Y., Ed., Li, T., Ed., and S. Hares, Ed., \"A Border Gateway Protocol 4 (BGP-4)\", RFC 4271, January 2006.",
      "ja": "[RFC4271] Rekhter、Y.、Ed。、Li、T.、ed。、およびS. Hares、ed。、「A Border Gateway Protocol 4（BGP-4）」、RFC 4271、2006年1月。"
    },
    {
      "indent": 3,
      "text": "[RFC4760] Bates, T., Chandra, R., Katz, D., and Y. Rekhter, \"Multiprotocol Extensions for BGP-4\", RFC 4760, January 2007.",
      "ja": "[RFC4760] Bates、T.、Chandra、R.、Katz、D。、およびY. Rekhter、「BGP-4のマルチプロトコル拡張」、RFC 4760、2007年1月。"
    },
    {
      "indent": 3,
      "text": "[RFC4456] Bates, T., Chen, E., and R. Chandra, \"BGP Route Reflection: An Alternative to Full Mesh Internal BGP (IBGP)\", RFC 4456, April 2006.",
      "ja": "[RFC4456] Bates、T.、Chen、E。、およびR. Chandra、「BGPルートリフレクション：フルメッシュ内部BGP（IBGP）の代替」、RFC 4456、2006年4月。"
    },
    {
      "indent": 3,
      "text": "[RFC4364] Rosen, E. and Y. Rekhter, \"BGP/MPLS IP Virtual Private Networks (VPNs)\", RFC 4364, February 2006.",
      "ja": "[RFC4364] Rosen、E。およびY. Rekhter、「BGP/MPLS IP仮想ネットワーク（VPNS）」、RFC 4364、2006年2月。"
    },
    {
      "indent": 0,
      "text": "7.2. Informative References",
      "section_title": true,
      "ja": "7.2. 参考引用"
    },
    {
      "indent": 3,
      "text": "[RFC5817] Ali, Z., Vasseur, JP., Zamfir, A., and J. Newton, \"Graceful Shutdown in MPLS and Generalized MPLS Traffic Engineering Networks\", RFC 5817, April 2010.",
      "ja": "[RFC5817] Ali、Z.、Vasseur、JP。、Zamfir、A。、およびJ. Newton、「MPLSおよびGeneralized MPLS Traffic Engineering Networksの優雅なシャットダウン」、RFC 5817、2010年4月。"
    },
    {
      "indent": 3,
      "text": "[RFC5715] Shand, M. and S. Bryant, \"A Framework for Loop-Free Convergence\", RFC 5715, January 2010.",
      "ja": "[RFC5715] Shand、M。およびS. Bryant、「ループフリーコンバージェンスのフレームワーク」、RFC 5715、2010年1月。"
    },
    {
      "indent": 3,
      "text": "[RFC5714] Shand, M. and S. Bryant, \"IP Fast Reroute Framework\", RFC 5714, January 2010.",
      "ja": "[RFC5714] Shand、M。およびS. Bryant、「IP Fast Reroute Framework」、RFC 5714、2010年1月。"
    },
    {
      "indent": 3,
      "text": "[RFC4724] Sangli, S., Chen, E., Fernando, R., Scudder, J., and Y. Rekhter, \"Graceful Restart Mechanism for BGP\", RFC 4724, January 2007.",
      "ja": "[RFC4724] Sangli、S.、Chen、E.、Fernando、R.、Scudder、J。、およびY. Rekhter、「BGPの優雅な再起動メカニズム」、RFC 4724、2007年1月。"
    },
    {
      "indent": 3,
      "text": "[Reliable] Network Strategy Partners, LLC. \"Reliable IP Nodes: A prerequisite to profitable IP services\", November 2002. http://www.nspllc.com/NewPages/Reliable_IP_Nodes.pdf",
      "ja": "[信頼性]ネットワーク戦略パートナー、LLC。「信頼できるIPノード：収益性の高いIPサービスへの前提条件」、2002年11月。http：//www.nspllc.com/newpages/reliable_ip_nodes.pdf"
    },
    {
      "indent": 0,
      "text": "Acknowledgments",
      "ja": "謝辞"
    },
    {
      "indent": 3,
      "text": "The authors would like to thank Nicolas Dubois, Benoit Fondeviole, Christian Jacquenet, Olivier Bonaventure, Steve Uhlig, Xavier Vinet, Vincent Gillet, Jean-Louis le Roux, Pierre Alain Coste, and Ronald Bonica for their useful discussions on this subject, review, and comments.",
      "ja": "著者は、ニコラス・デュボア、ブノワ・フォンデヴィオール、クリスチャン・ジャケネット、オリビエ・ボナヴェントゥール、スティーブ・ウーリグ、ザビエル・ヴィネット、ヴィンセント・ジレット、ジャン・ルイス・ル・ルー、ピエール・アレイン・コステ、ロナルド・バニカに、この主題についての彼らの有用な議論に感謝します。コメント。"
    },
    {
      "indent": 3,
      "text": "This document has been partly sponsored by the European project IST AGAVE.",
      "ja": "この文書は、ヨーロッパのプロジェクトIST Agaveによって部分的に後援されています。"
    },
    {
      "indent": 0,
      "text": "Appendix A. Reference BGP Topologies",
      "section_title": true,
      "ja": "付録A. 参照BGPトポロジ"
    },
    {
      "indent": 3,
      "text": "This section describes some frequent BGP topologies used both within the AS (IBGP) and between ASes (EBGP). Solutions should be applicable to the following topologies and their combinations.",
      "ja": "このセクションでは、AS（IBGP）とASE（EBGP）内で使用されるいくつかの頻繁なBGPトポロジについて説明します。ソリューションは、次のトポロジとその組み合わせに適用できる必要があります。"
    },
    {
      "indent": 0,
      "text": "A.1. EBGP Topologies",
      "section_title": true,
      "ja": "A.1. EBGPトポロジ"
    },
    {
      "indent": 3,
      "text": "This section describes some frequent BGP topologies used between ASes. In each figure, a line represents a BGP session.",
      "ja": "このセクションでは、ASEの間で使用されるいくつかの頻繁なBGPトポロジについて説明します。各図では、行はBGPセッションを表します。"
    },
    {
      "indent": 0,
      "text": "A.1.1. One ASBR in AS1 Connected to Two ASBRs in the Neighboring AS2",
      "section_title": true,
      "ja": "A.1.1. AS1の1つのASBRが隣接するAS2の2つのASBRに接続されています"
    },
    {
      "indent": 3,
      "text": "In this topology, we have an asymmetric protection scheme between AS1 and AS2:",
      "ja": "このトポロジでは、AS1とAS2の間に非対称保護スキームがあります。"
    },
    {
      "indent": 6,
      "text": "- On the AS2 side, two different routers are used to connect to AS1.",
      "ja": "- AS2側では、2つの異なるルーターを使用してAS1に接続します。"
    },
    {
      "indent": 6,
      "text": "- On the AS1 side, one single router with two BGP sessions is used.",
      "ja": "- AS1側では、2つのBGPセッションを備えた1つのルーターが使用されます。"
    },
    {
      "indent": 9,
      "text": "           '\n     AS1   '      AS2\n           '\n     /----------- ASBR2.1\n    /      '\n   /       '\nASBR1.1    '\n   \\       '\n    \\      '\n     \\----------- ASBR2.2\n           '\n           '\n AS1       '      AS2\n           '",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": "Figure 2. EBGP Topology with Redundant ASBR in One of the ASes",
      "ja": "図2. ASESの1つに冗長ASBRを備えたEBGPトポロジー"
    },
    {
      "indent": 3,
      "text": "BGP graceful shutdown is expected to be applicable for the maintenance of:",
      "ja": "BGP優雅なシャットダウンは、次のメンテナンスに適用できると予想されます。"
    },
    {
      "indent": 6,
      "text": "- one of the routers of AS2;",
      "ja": "- AS2のルーターの1つ。"
    },
    {
      "indent": 6,
      "text": "- one link between AS1 and AS2, performed either on an AS1 or AS2 router.",
      "ja": "- AS1とAS2の間の1つのリンクは、AS1またはAS2ルーターで実行されました。"
    },
    {
      "indent": 3,
      "text": "Note that in the case of maintenance of the whole router, all its BGP sessions need to be gracefully shutdown at the beginning of the maintenance and gracefully brought up at the end of the maintenance.",
      "ja": "ルーター全体のメンテナンスの場合、すべてのBGPセッションはメンテナンスの開始時に優雅にシャットダウンし、メンテナンスの最後に優雅に育てられる必要があることに注意してください。"
    },
    {
      "indent": 0,
      "text": "A.1.2. Two ASBRs in AS1 Connected to Two ASBRs in AS2",
      "section_title": true,
      "ja": "A.1.2. AS1の2つのASBRSがAS2の2つのASBRに接続されています"
    },
    {
      "indent": 3,
      "text": "In this topology, we have a symmetric protection scheme between AS1 and AS2: on both sides, two different routers are used to connect AS1 to AS2.",
      "ja": "このトポロジでは、AS1とAS2の間に対称保護スキームがあります。両側では、2つの異なるルーターを使用してAS1をAS2に接続します。"
    },
    {
      "indent": 9,
      "text": "             '\n       AS1   '      AS2\n             '\nASBR1.1----------- ASBR2.1\n             '\n             '\n             '\n             '\n             '\nASBR1.2----------- ASBR2.2\n             '\n   AS1       '      AS2\n             '",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": "Figure 3. EBGP Topology with Redundant ASBRs in Both ASes",
      "ja": "図3.両方のASEに冗長ASBRを備えたEBGPトポロジー"
    },
    {
      "indent": 3,
      "text": "BGP graceful shutdown is expected to be applicable for the maintenance of:",
      "ja": "BGP優雅なシャットダウンは、次のメンテナンスに適用できると予想されます。"
    },
    {
      "indent": 6,
      "text": "- any of the ASBR routers (in AS1 or AS2);",
      "ja": "- ASBRルーターのいずれか（AS1またはAS2）;"
    },
    {
      "indent": 6,
      "text": "- one link between AS1 and AS2, performed either on an AS1 or AS2 router.",
      "ja": "- AS1とAS2の間の1つのリンクは、AS1またはAS2ルーターで実行されました。"
    },
    {
      "indent": 0,
      "text": "A.1.3. Two ASBRs in AS2 Each Connected to Two Different ASes",
      "section_title": true,
      "ja": "A.1.3. AS2の2つのASBRはそれぞれ2つの異なるASEに接続されています"
    },
    {
      "indent": 3,
      "text": "In this topology, at least three ASes are involved.",
      "ja": "このトポロジでは、少なくとも3つのASEが関与しています。"
    },
    {
      "indent": 9,
      "text": "               '\n         AS1   '      AS2\n               '\n  ASBR1.1----------- ASBR2.1\n     |         '\n     |         '\n'''''|''''''''''\n     |         '\n     |         '\n  ASBR3.1----------- ASBR2.2\n               '\n     AS3       '      AS2",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": "Figure 4. EBGP Topology of a Dual-Homed Customer",
      "ja": "図4.デュアルホームの顧客のEBGPトポロジ"
    },
    {
      "indent": 3,
      "text": "As the requirement expressed in Section 5 is to advertise the maintenance only within the initiator and neighbor ASes, not Internet-wide, BGP graceful shutdown solutions may not be applicable to this topology. Depending on which routes are exchanged between these ASes, some protection for some of the traffic may be possible.",
      "ja": "セクション5で表明されている要件は、インターネット全体ではなく、イニシエーターと近隣ASE内でのみメンテナンスを宣伝することであるため、BGPの優雅なシャットダウンソリューションはこのトポロジに適用できない場合があります。これらのASEの間でどのルートが交換されるかによって、一部のトラフィックに対するある程度の保護が可能になる場合があります。"
    },
    {
      "indent": 3,
      "text": "For instance, if ASBR2.2 performs a maintenance affecting ASBR3.1, then ASBR3.1 will be notified. However, ASBR1.1 may not be notified of the maintenance of the EBGP session between ASBR3.1 and ASBR2.2.",
      "ja": "たとえば、ASBR2.2がASBR3.1に影響を与えるメンテナンスを実行する場合、ASBR3.1に通知されます。ただし、ASBR1.1には、ASBR3.1とASBR2.2の間のEBGPセッションのメンテナンスについて通知されない場合があります。"
    },
    {
      "indent": 0,
      "text": "A.2. IBGP Topologies",
      "section_title": true,
      "ja": "A.2. IBGPトポロジ"
    },
    {
      "indent": 3,
      "text": "This section describes some frequent BGP topologies used within an AS. In each figure, a line represents a BGP session.",
      "ja": "このセクションでは、AS内で使用されるいくつかの頻繁なBGPトポロジについて説明します。各図では、行はBGPセッションを表します。"
    },
    {
      "indent": 0,
      "text": "A.2.1. IBGP Full-Mesh",
      "section_title": true,
      "ja": "A.2.1. IBGPフルメッシュ"
    },
    {
      "indent": 3,
      "text": "In this topology, we have a full-mesh of IBGP sessions:",
      "ja": "このトポロジには、IBGPセッションのフルメッシュがあります。"
    },
    {
      "indent": 9,
      "text": "   P1 ----- P2\n   | \\    / |\n   |  \\  /  |\n   |   \\/   |     AS1\n   |   /\\   |\n   |  /  \\  |\n   | /    \\ |\n ASBR1.1--ASBR1.2\n    \\       /\n     \\     /\n''''''\\'''/''''''''''''\n       \\ /      AS2\n      ASBR2.1",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": "Figure 5. IBGP Full-Mesh",
      "ja": "図5. IBGPフルメッシュ"
    },
    {
      "indent": 3,
      "text": "When the session between ASBR1.1 and ASBR2.1 is gracefully shut down, it is required that all affected routers of AS1 reroute traffic to ASBR1.2 before the session between ASBR1.1 and ASBR2.1 is shut down.",
      "ja": "ASBR1.1とASBR2.1のセッションが優雅にシャットダウンされると、ASBR1.1とASBR2.1の間のセッションがシャットダウンされる前に、AS1のトラフィックの影響を受けたすべてのルーターがASBR1.2に再ルーティングする必要があります。"
    },
    {
      "indent": 3,
      "text": "Similarly, when the session between ASBR1.1 and ASBR2.1 is gracefully brought up, all affected routers of AS1 preferring ASBR1.1 over ASBR1.2 need to reroute traffic to ASBR1.1 before the less preferred path through ASBR1.2 is possibly withdrawn.",
      "ja": "同様に、ASBR1.1とASBR2.1の間のセッションが優雅に育てられると、ASBR1.2よりもASBR1.1を好むASBR1.1のすべての影響を受けるルーターは、ASBR1.2を通るより少ない好ましいパスを前にASBR1.1に再ルーティングする必要があります。引きこもった。"
    },
    {
      "indent": 0,
      "text": "A.2.2. Route Reflector",
      "section_title": true,
      "ja": "A.2.2. ルートリフレクター"
    },
    {
      "indent": 3,
      "text": "In this topology, route reflectors are used to limit the number of IBGP sessions. There is a single level of route reflectors and the route reflectors are fully meshed.",
      "ja": "このトポロジでは、ルートリフレクターを使用してIBGPセッションの数を制限します。ルートリフレクターには単一のレベルがあり、ルートリフレクターは完全にメッシュ化されています。"
    },
    {
      "indent": 9,
      "text": "   P1 (RR)-- P2 (RR)\n   | \\      / |\n   |  \\    /  |\n   |   \\  /   |     AS1\n   |    \\/    |\n   |    /\\    |\n   |   /  \\   |\n   |  /    \\  |\n   | /      \\ |\n ASBR1.1    ASBR1.2\n    \\          /\n     \\        /\n''''''\\''''''/''''''''''''\n       \\    /\n        \\  /         AS2\n       ASBR2.1",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": "Figure 6. Route Reflector",
      "ja": "図6.ルートリフレクター"
    },
    {
      "indent": 3,
      "text": "When the session between ASBR1.1 and ASBR2.1 is gracefully shut down, all BGP routers of AS1 need to reroute traffic to ASBR1.2 before the session between ASBR1.1 and ASBR2.1 is shut down.",
      "ja": "ASBR1.1とASBR2.1のセッションが優雅にシャットダウンされると、AS1のすべてのBGPルーターはASBR1.1とASBR2.1の間のセッションがシャットダウンする前にASBR1.2にトラフィックを再ルーティングする必要があります。"
    },
    {
      "indent": 3,
      "text": "Similarly, when the session between ASBR1.1 and ASBR2.1 is gracefully brought up, all affected routers of AS1 preferring ASBR1.1 over ASBR1.2 need to reroute traffic to ASBR1.1 before the less preferred path through ASBR1.2 is possibly withdrawn.",
      "ja": "同様に、ASBR1.1とASBR2.1の間のセッションが優雅に育てられると、ASBR1.2よりもASBR1.1を好むASBR1.1のすべての影響を受けるルーターは、ASBR1.2を通るより少ない好ましいパスを前にASBR1.1に再ルーティングする必要があります。引きこもった。"
    },
    {
      "indent": 0,
      "text": "A.2.3. Hierarchical Route Reflector",
      "section_title": true,
      "ja": "A.2.3. 階層ルートリフレクター"
    },
    {
      "indent": 3,
      "text": "In this topology, hierarchical route reflectors are used to limit the number of IBGP sessions. There could be more than two levels of route reflectors and the top-level route reflectors are fully meshed.",
      "ja": "このトポロジでは、IBGPセッションの数を制限するために階層ルートリフレクターを使用します。ルートリフレクターには3つ以上のレベルがあり、トップレベルのルートリフレクターが完全にメッシュ化されています。"
    },
    {
      "indent": 9,
      "text": "P1 (RR) --------  P2 (RR)\n   |               |\n   |               |\n   |               |   AS1\n   |               |\n   |               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": " P3 (RR)          P4 (RR)\n   |               |\n   |               |\n   |               |   AS1\n   |               |\n   |               |\n ASBR1.1         ASBR1.2\n    \\             /\n     \\           /\n''''''\\'''''''''/''''''''''''\n       \\       /\n        \\     /        AS2\n        ASBR2.1",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": "Figure 7. Hierarchical Route Reflector",
      "ja": "図7.階層ルートリフレクター"
    },
    {
      "indent": 3,
      "text": "When the session between ASBR1.1 and ASBR2.1 is gracefully shut down, all BGP routers of AS1 need to reroute traffic to ASBR1.2 before the session between ASBR1.1 and ASBR2.1 is shut down.",
      "ja": "ASBR1.1とASBR2.1のセッションが優雅にシャットダウンされると、AS1のすべてのBGPルーターはASBR1.1とASBR2.1の間のセッションがシャットダウンする前にASBR1.2にトラフィックを再ルーティングする必要があります。"
    },
    {
      "indent": 3,
      "text": "Similarly, when the session between ASBR1.1 and ASBR2.1 is gracefully brought up, all affected routers of AS1 preferring ASBR1.1 over ASBR1.2 need to reroute traffic to ASBR1.1 before the less preferred path through ASBR1.2 is possibly withdrawn.",
      "ja": "同様に、ASBR1.1とASBR2.1の間のセッションが優雅に育てられると、ASBR1.2よりもASBR1.1を好むASBR1.1のすべての影響を受けるルーターは、ASBR1.2を通るより少ない好ましいパスを前にASBR1.1に再ルーティングする必要があります。引きこもった。"
    },
    {
      "indent": 0,
      "text": "A.2.4. Confederations",
      "section_title": true,
      "ja": "A.2.4. 連合"
    },
    {
      "indent": 3,
      "text": "In this topology, a confederation of ASes is used to limit the number of IBGP sessions. Moreover, RRs may be present in the member ASes of the confederation.",
      "ja": "このトポロジでは、ASESの連合が使用され、IBGPセッションの数を制限します。さらに、RRは、連合のメンバーASESに存在する場合があります。"
    },
    {
      "indent": 3,
      "text": "Confederations may be run with different sub-options. Regarding the IGP, each member AS can run its own IGP or they can all share the same IGP. Regarding BGP, LOCAL_PREF may or may not cross the member AS boundaries.",
      "ja": "コンフェデレーションは、異なるサブオプションで実行される場合があります。IGPに関しては、各メンバーが独自のIGPを実行できるか、すべて同じIGPを共有できます。BGPに関しては、local_prefが境界としてメンバーを越える場合としない場合があります。"
    },
    {
      "indent": 3,
      "text": "A solution should support the graceful shutdown and graceful bringing up of EBGP sessions between member ASes in the confederation in addition to the graceful shutdown and graceful bringing up of EBGP sessions between a member-AS and an AS outside of the confederation.",
      "ja": "ソリューションは、優雅なシャットダウンと同盟のメンバーASE間のEBGPセッションの優雅なシャットダウンと優雅な育成をサポートする必要があります。"
    },
    {
      "indent": 9,
      "text": "ASBR1C.1 ---------- ASBR1C.2\n   |                   |\n   |                   |\n   |       AS1C        |\n   |                   |\n   |                   |\n\"\"\"|\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"|\"\"\"\n   |        \"          |\n ASBR1A.2   \"        ASBR1B.2\n   |        \"          |\n   |        \"          |\n   |  AS1A  \"   AS1B   |             AS1\n   |        \"          |\n   |        \"          |\n ASBR1A.1   \"         ASBR1B.1\n    \\       \"         /\n     \\      \"        /\n''''''\\'''''''''''''/''''''''''''\n       \\           /\n        \\         /                   AS2\n          ASBR2.1",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": "Figure 8. Confederation",
      "ja": "図8.連合"
    },
    {
      "indent": 3,
      "text": "In the above figure, member ASes AS1A, AS1B, and AS1C belong to a confederation of ASes in AS1. AS1A and AS1B are connected to AS2.",
      "ja": "上記の図では、メンバーASES AS1A、AS1B、およびAS1CはAS1のASESの連合に属します。AS1AおよびAS1BはAS2に接続されています。"
    },
    {
      "indent": 3,
      "text": "In normal operation, for the traffic toward AS2:",
      "ja": "通常の動作では、AS2へのトラフィックの場合："
    },
    {
      "indent": 6,
      "text": "- AS1A sends the traffic directly to AS2 through ASBR1A.1.",
      "ja": "- AS1Aは、ASBR1A.1を介してトラフィックをAS2に直接送信します。"
    },
    {
      "indent": 6,
      "text": "- AS1B sends the traffic directly to AS2 through ASBR1B.1.",
      "ja": "- AS1Bは、ASBR1B.1を介してトラフィックをAS2に直接送信します。"
    },
    {
      "indent": 6,
      "text": "- AS1C load balances the traffic between AS1A and AS1B.",
      "ja": "- AS1C負荷は、AS1AとAS1Bの間のトラフィックのバランスをとります。"
    },
    {
      "indent": 3,
      "text": "When the session between ASBR1A.1 and ASBR2.1 is gracefully shut down, all BGP routers of AS1 need to reroute traffic to ASBR1B.1 before the session between ASBR1A.1 and ASBR2.1 is shut down.",
      "ja": "ASBR1A.1とASBR2.1のセッションが優雅にシャットダウンされると、AS1のすべてのBGPルーターは、ASBR1A.1とASBR2.1の間のセッションがシャットダウンする前にASBR1B.1にトラフィックを再ルーティングする必要があります。"
    },
    {
      "indent": 3,
      "text": "Similarly, when the session between ASBR1A.1 and ASBR2.1 is gracefully brought up, all affected routers of AS1 preferring ASBR1A.1 over ASBR1B.1 need to reroute traffic to ASBR1A.1 before the less preferred path through ASBR1B.1 is possibly withdrawn.",
      "ja": "同様に、ASBR1A.1とASBR2.1の間のセッションが優雅に育てられると、ASBR1B.1よりもASBR1B.1よりもASBR1A.1を好むAS1のすべての影響を受けるルーターは、ASBR1B.1を通るより少ない好ましいパスを前にASBR1A.1に再ルーティングする必要があります。引きこもった。"
    },
    {
      "indent": 0,
      "text": "A.3. Routing Decisions",
      "section_title": true,
      "ja": "A.3. ルーティング決定"
    },
    {
      "indent": 3,
      "text": "Here we describe some routing engineering choices that are frequently used in ASes and that should be supported by the solution.",
      "ja": "ここでは、ASESで頻繁に使用されるルーティングエンジニアリングの選択肢について説明します。これは、ソリューションによってサポートされる必要があります。"
    },
    {
      "indent": 0,
      "text": "A.3.1. Hot Potato (IGP Cost)",
      "section_title": true,
      "ja": "A.3.1. ホットポテト（IGPコスト）"
    },
    {
      "indent": 3,
      "text": "The ingress router selects the nominal egress ASBR (AS exit point) based on the IGP cost to reach the BGP next-hop.",
      "ja": "Ingressルーターは、IGPコストに基づいてBGP Next-Hopに到達するためのIGPコストに基づいて、公称出力ASBR（出口点として）を選択します。"
    },
    {
      "indent": 0,
      "text": "A.3.2. Cold Potato (BGP LOCAL_PREF)",
      "section_title": true,
      "ja": "A.3.2. コールドポテト（BGP local_pref）"
    },
    {
      "indent": 3,
      "text": "The ingress router selects the nominal egress ASBR based on the BGP LOCAL_PREF value set and advertised by the exit point.",
      "ja": "Ingressルーターは、BGP local_pref値セットに基づいて公称出力ASBRを選択し、出口ポイントで宣伝します。"
    },
    {
      "indent": 0,
      "text": "A.3.3. Cold Potato (BGP Preference Set on Ingress)",
      "section_title": true,
      "ja": "A.3.3. コールドポテト（侵入に設定されたBGPの好み）"
    },
    {
      "indent": 3,
      "text": "The ingress router selects the nominal egress ASBR based on preconfigured policy information. (Typically, this is done by locally setting the BGP LOCAL_PREF based on the BGP communities attached on the routes).",
      "ja": "Ingressルーターは、事前に設定されたポリシー情報に基づいて、公称出力ASBRを選択します。（通常、これは、ルートに接続されているBGPコミュニティに基づいてBGP Local_Prefをローカルに設定することによって行われます）。"
    },
    {
      "indent": 3,
      "text": "As per [RFC4271], note that if tunnels are not used to forward packets between the ingress and egress ASBR; this can lead to persistent forwarding loops.",
      "ja": "[RFC4271]によると、トンネルがイングレスASBRと出口ASBRの間のパケットを転送するために使用されない場合は注意してください。これにより、永続的な転送ループにつながる可能性があります。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "Bruno Decraene France Telecom 38-40 rue du General Leclerc 92794 Issy Moulineaux cedex 9 France EMail: bruno.decraene@orange-ftgroup.com",
      "ja": "Bruno Decraene France Telecom 38-40 Rue du General Leclerc 92794 Issy Moulineaux Cedex 9 Franceメール：bruno.decraene@orange-ftgroup.com"
    },
    {
      "indent": 3,
      "text": "Pierre Francois Universite catholique de Louvain Place Ste Barbe, 2 Louvain-la-Neuve 1348 BE EMail: francois@info.ucl.ac.be",
      "ja": "Pierre Francois Universite Catholique de Louvain Place Ste Barbe、2 Louvain-la-neuve 1348 be email：francois@info.ucl.ac.be"
    },
    {
      "indent": 3,
      "text": "Cristel Pelsser Internet Initiative Japan Jinbocho Mitsui Building 1-105 Kanda jinbo-cho Chiyoda-ku, Tokyo 101-0051 Japan EMail: cristel@iij.ad.jp",
      "ja": "クリステルペルサーインターネットイニシアチブジャパンジンボチョミツイビル1-105カンダジンボチョチヨーダクー、東京101-0051日本メール：cristel@iij.ad.jp"
    },
    {
      "indent": 3,
      "text": "Zubair Ahmad Orange Business Services 13775 McLearen Road, Oak Hill VA 20171 USA EMail: zubair.ahmad@orange-ftgroup.com",
      "ja": "Zubair Ahmad Orange Business Services 13775 MCLEAREN ROAD、OAK HILL VA 20171 USAメール：zubair.ahmad@orange-ftgroup.com"
    },
    {
      "indent": 3,
      "text": "Antonio Jose Elizondo Armengol Division de Analisis Tecnologicos Technology Analysis Division Telefonica I+D C/ Emilio Vargas 6 28043, Madrid EMail: ajea@tid.es",
      "ja": "アントニオ・ホセ・エリゾンド・アーマンゴル部門DEアナリシスTECNOLOGICOSテクノロジー分析部門Telefonica I D C/ Emilio Vargas 6 28043、Madrid Email：ajea@tid.es"
    },
    {
      "indent": 3,
      "text": "Tomonori Takeda NTT Corporation 9-11, Midori-Cho 3 Chrome Musashino-Shi, Tokyo 180-8585 Japan EMail: takeda.tomonori@lab.ntt.co.jp",
      "ja": "Tomonori Takeda NTT Corporation 9-11、Midori-Cho 3 Chrome Musashino-Shi、Tokyo 180-8585日本メール：takeda.tomonori@lab.ntt.co.jp"
    }
  ]
}